function strtotime(f,a){var e,b,g,c="";b="";c=f.replace(/\s{2,}|^\s|\s$/g," ");c=c.replace(/[\t\r\n]/g,"");if("now"==c)return(new Date).getTime()/1E3;if(isNaN(b=Date.parse(c)))a=a?new Date(1E3*a):new Date;else return b/1E3;c=c.toLowerCase();g={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};var d={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11};b=c.match(/^(\d{2,4}-\d{2}-\d{2})(?:\s(\d{1,2}:\d{2}(:\d{2})?)?(?:\.(\d+))?)?$/);if(null!=b){b[2]?b[3]||(b[2]+=":00"):b[2]="00:00:00";
g=b[1].split(/-/g);for(e in d)d[e]==g[1]-1&&(g[1]=e);g[0]=parseInt(g[0],10);g[0]=0<=g[0]&&69>=g[0]?"20"+(10>g[0]?"0"+g[0]:g[0]+""):70<=g[0]&&99>=g[0]?"19"+g[0]:g[0]+"";return parseInt(this.strtotime(g[2]+" "+g[1]+" "+g[0]+" "+b[2])+(b[4]?b[4]/1E3:""),10)}b=c.match(/([+-]?\d+\s(years?|months?|weeks?|days?|hours?|min|minutes?|sec|seconds?|sun\.?|sunday|mon\.?|monday|tue\.?|tuesday|wed\.?|wednesday|thu\.?|thursday|fri\.?|friday|sat\.?|saturday)|(last|next)\s(years?|months?|weeks?|days?|hours?|min|minutes?|sec|seconds?|sun\.?|sunday|mon\.?|monday|tue\.?|tuesday|wed\.?|wednesday|thu\.?|thursday|fri\.?|friday|sat\.?|saturday))(\sago)?/gi);
if(null==b)return!1;for(e=0;e<b.length;e++){a:{var c=b[e].split(" "),h=c[2]&&"ago"==c[2],d=(d="last"==c[0]?-1:1)*(h?-1:1);switch(c[0]){case "last":case "next":switch(c[1].substring(0,3)){case "yea":a.setFullYear(a.getFullYear()+d);break;case "mon":a.setMonth(a.getMonth()+d);break;case "wee":a.setDate(a.getDate()+7*d);break;case "day":a.setDate(a.getDate()+d);break;case "hou":a.setHours(a.getHours()+d);break;case "min":a.setMinutes(a.getMinutes()+d);break;case "sec":a.setSeconds(a.getSeconds()+d);
break;default:h=void 0,"undefined"!=typeof(h=g[c[1].substring(0,3)])&&(h-=a.getDay(),0==h?h=7*d:0<h?"last"==c[0]&&(h-=7):"next"==c[0]&&(h+=7),a.setDate(a.getDate()+h))}break;default:if(/\d+/.test(c[0]))switch(d*=parseInt(c[0],10),c[1].substring(0,3)){case "yea":a.setFullYear(a.getFullYear()+d);break;case "mon":a.setMonth(a.getMonth()+d);break;case "wee":a.setDate(a.getDate()+7*d);break;case "day":a.setDate(a.getDate()+d);break;case "hou":a.setHours(a.getHours()+d);break;case "min":a.setMinutes(a.getMinutes()+
d);break;case "sec":a.setSeconds(a.getSeconds()+d)}else{c=!1;break a}}c=!0}if(!c)return!1}return a.getTime()/1E3}
function date(f,a){var e,b,g=/\\?([a-z])/gi,c,d=function(a,b){return(a+="").length<b?Array(++b-a.length).join("0")+a:a},h="Sun Mon Tues Wednes Thurs Fri Satur January February March April May June July August September October November December".split(" ");c=function(a,c){return b[a]?b[a]():c};b={d:function(){return d(b.j(),2)},D:function(){return b.l().slice(0,3)},j:function(){return e.getDate()},l:function(){return h[b.w()]+"day"},N:function(){return b.w()||7},S:function(){var a=b.j();return 4<
a||21>a?"th":{1:"st",2:"nd",3:"rd"}[a%10]||"th"},w:function(){return e.getDay()},z:function(){var a=new Date(b.Y(),b.n()-1,b.j()),c=new Date(b.Y(),0,1);return Math.round((a-c)/864E5)+1},W:function(){var a=new Date(b.Y(),b.n()-1,b.j()-b.N()+3),c=new Date(a.getFullYear(),0,4);return d(1+Math.round((a-c)/864E5/7),2)},F:function(){return h[6+b.n()]},m:function(){return d(b.n(),2)},M:function(){return b.F().slice(0,3)},n:function(){return e.getMonth()+1},t:function(){return(new Date(b.Y(),b.n(),0)).getDate()},
L:function(){return 1===(new Date(b.Y(),1,29)).getMonth()|0},o:function(){var a=b.n(),c=b.W();return b.Y()+(12===a&&9>c?-1:1===a&&9<c)},Y:function(){return e.getFullYear()},y:function(){return(b.Y()+"").slice(-2)},a:function(){return 11<e.getHours()?"pm":"am"},A:function(){return b.a().toUpperCase()},B:function(){var a=3600*e.getUTCHours(),b=60*e.getUTCMinutes(),c=e.getUTCSeconds();return d(Math.floor((a+b+c+3600)/86.4)%1E3,3)},g:function(){return b.G()%12||12},G:function(){return e.getHours()},h:function(){return d(b.g(),
2)},H:function(){return d(b.G(),2)},i:function(){return d(e.getMinutes(),2)},s:function(){return d(e.getSeconds(),2)},u:function(){return d(1E3*e.getMilliseconds(),6)},e:function(){throw"Not supported (see source code of date() for timezone on how to add support)";},I:function(){var a=new Date(b.Y(),0),c=Date.UTC(b.Y(),0),d=new Date(b.Y(),6),e=Date.UTC(b.Y(),6);return 0+(a-c!==d-e)},O:function(){var a=e.getTimezoneOffset();return(0<a?"-":"+")+d(Math.abs(a/60*100),4)},P:function(){var a=b.O();return a.substr(0,
3)+":"+a.substr(3,2)},T:function(){return"UTC"},Z:function(){return 60*-e.getTimezoneOffset()},c:function(){return"Y-m-d\\Th:i:sP".replace(g,c)},r:function(){return"D, d M Y H:i:s O".replace(g,c)},U:function(){return e.getTime()/1E3|0}};this.date=function(a,b){e="undefined"===typeof b?new Date:b instanceof Date?new Date(b):new Date(1E3*b);return a.replace(g,c)};return this.date(f,a)}function makeDatepicker(f,a,e){(new calendar(f,a)).getDatepicker(e)}
function makeCal(f,a,e){(new calendar(f,a)).getCal(e)}
function calendar(f,a,e){this.dayNames="Mo Di Mi Do Fr Sa So".split(" ");this.monthNames="Januar Februar M\u00e4rz April Mai Juni Juli August September Oktober November Dezember".split(" ");this.keepEmpty=!1;this.dateSeparator=".";this.relateTo="";this.dateFormat="d.m.Y";this.calendar=[];e=new Date;this.currmonth=e.getMonth();this.curryear=e.getFullYear();this.currday=e.getDate();12<f&&(f=1,a+=1);1>f&&(f=12,--a);this.month=f-1;this.year=a;this.daysInMonth=this.getDaysInMonth(this.month,this.year);
this.daysLastMonth=this.getDaysInMonth(this.month-1,this.year);this.startDay=(new Date(this.year,this.month,1)).getDay()-1;0>this.startDay&&(this.startDay+=7);this.weeksInMonth=Math.ceil((this.startDay+this.daysInMonth)/7)}
calendar.prototype.getCal=function(f){var a,e=this.month,b=this.month+2;a='<table class="cal" cellpadding="0" cellspacing="1" border = "0">'+('<tr class="head" ><td class = "back"><a href = "javascript:void(0);"></a></td><td colspan="5" >'+this.monthNames[this.month]+" "+this.year+'</td><td class="next"><a href = "javascript:void(0);"></a></td></tr>');a+='<tr class = "weekday">';for(i=0;i<this.dayNames.length;i++)a+="<td >"+this.dayNames[i]+"</td>";a+="</tr>";var g=this.buildCal();for(j=0;j<this.weeksInMonth;j++){a+=
"<tr >";for(i=0;7>i;i++){var c=g[j][i];0<c&&c<=this.daysInMonth?a=this.currmonth==this.month&&this.curryear==this.year&&this.currday==c?a+('<td class = "today">'+c+"</td>"):a+("<td >"+c+"</td>"):1>c?a+='<td class = "wrong">'+(this.daysLastMonth+c)+"</td>":c>this.daysInMonth&&(a+='<td class = "wrong">'+(c-this.daysInMonth)+"</td>")}a+="</tr>"}a+="</table>";document.getElementById(f).innerHTML=a;var d=this.monthNames,h=this.dayNames,k=this.keepEmpty,l=this.dateSeparator,m=this.year;$$("#"+f+" .cal  .back a").each(function(a){a.onclick=
function(){theCal=new calendar(e,m);theCal.monthNames=d;theCal.dayNames=h;theCal.keepEmpty=k;theCal.dateSeparator=l;theCal.getCal(f)}});$$("#"+f+" .cal .next a").each(function(a){a.onclick=function(){internalCals=new calendar(b,m);internalCals.monthNames=d;internalCals.dayNames=h;internalCals.keepEmpty=k;internalCals.dateSeparator=l;internalCals.getCal(f)}})};
calendar.prototype.getDatepicker=function(f){if("m/d/Y"==this.dateFormat||"m/d/y"==this.dateFormat)this.dateSeparator="/";var a="",e=this.month,b=this.month+2;this.theDiv=f;this.relateTo&&(document.getElementById(this.relateTo).onfocus=function(){Velocity(document.getElementById(f),"fadeIn",{duration:800})});a=a+'<table class="cal" cellpadding="0" cellspacing="1" border = "0">'+('<tr class="head" ><td class = "back"><a href = "javascript:void(0);"></a></td><td colspan="5" >'+this.monthNames[this.month]+
" "+this.year+'</td><td class="next"><a href = "javascript:void(0);"></a></td></tr>');a+='<tr class = "weekday">';for(i=0;i<this.dayNames.length;i++)a+="<td >"+this.dayNames[i]+"</td>";var a=a+"</tr>",g=this.buildCal();if(!this.keepEmpty&&!document.getElementById(this.relateTo).value){var c,d;c=10>this.month+1?"0"+(this.month+1):this.month+1;d=10>this.currday&&0<this.currday?"0"+this.currday:this.currday;var h=strtotime(c+"/"+d+"/"+this.curryear);document.getElementById(this.relateTo).value=date(this.dateFormat,
h)}h=document.getElementById(this.relateTo).value.split(this.dateSeparator);for(j=0;j<this.weeksInMonth;j++){a+="<tr>";for(i=0;7>i;i++){var k=g[j][i];d=k;10>k&&0<k&&(d="0"+k);c=10>this.month+1?"0"+(this.month+1):this.month+1;c=strtotime(c+"/"+d+"/"+this.year);c=date(this.dateFormat,c);0<k&&k<=this.daysInMonth?a=this.currmonth==this.month&&this.curryear==this.year&&this.currday==k?a+('<td class = "today" onclick = "document.getElementById(\''+this.relateTo+"').value='"+c+"';Velocity(document.getElementById('"+
f+"'), 'fadeOut', {duration: 600});\">"+k+"</td>"):this.month==h[1]-1&&this.year==h[2]&&h[0]==k?a+('<td class = "red" onclick = "document.getElementById(\''+this.relateTo+"').value='"+c+"';Velocity(document.getElementById('"+f+"'), 'fadeOut', {duration: 600});\">"+k+"</td>"):a+('<td class = "normalday" onclick = "document.getElementById(\''+this.relateTo+"').value='"+c+"';Velocity(document.getElementById('"+f+"'), 'fadeOut', {duration: 600});\">"+k+"</td>"):1>k?a+='<td class = "wrong">'+(this.daysLastMonth+
k)+"</td>":k>this.daysInMonth&&(a+='<td class = "wrong">'+(k-this.daysInMonth)+"</td>")}a+="</tr>"}a+='<tr><td colspan = "7" class = "dpfoot"><a href = "javascript:void(0);" onclick = "Velocity(document.getElementById(\''+f+"'), 'fadeOut', {duration: 600});\">Close</a></td></tr></table>";document.getElementById(f).innerHTML=a;var l=this.monthNames,m=this.dayNames,n=this.keepEmpty,p=this.dateSeparator,q=this.year,r=this.relateTo,t=this.dateFormat;document.querySelector("#"+f+" .cal .back a").addEventListener("click",
function(){var a=new calendar(e,q);a.monthNames=l;a.dayNames=m;a.keepEmpty=n;a.relateTo=r;a.dateSeparator=p;a.dateFormat=t;a.getDatepicker(f)});document.querySelector("#"+f+" .cal .next a").addEventListener("click",function(){var a=new calendar(b,q);a.monthNames=l;a.dayNames=m;a.keepEmpty=n;a.relateTo=r;a.dateSeparator=p;a.dateFormat=t;a.getDatepicker(f)})};calendar.prototype.showDatepicker=function(){};
calendar.prototype.buildCal=function(){var f=0;for(j=0;j<this.weeksInMonth;j++)for(this.calendar[j]=[],i=0;7>i;i++)f++,this.calendar[j][i]=f-this.startDay;return this.calendar};calendar.prototype.getDaysInMonth=function(f,a){for(var e=new Date(a,f),b=28,g=!1;!g;)e.setDate(b+1),e.getMonth()!=f?g=!0:b++;return b};
