!function(){var k=tinymce.util.Tools.resolve("tinymce.PluginManager"),f=tinymce.util.Tools.resolve("tinymce.util.Tools"),g=function(a,b){var c,d=a.dom,e=a.selection.getSelectedBlocks();e.length&&(c=d.getAttrib(e[0],"dir"),f.each(e,function(a){d.getParent(a.parentNode,'*[dir="'+b+'"]',d.getRoot())||d.setAttrib(a,"dir",c!==b?b:null)}),a.nodeChanged())},l=function(a){a.addCommand("mceDirectionLTR",function(){g(a,"ltr")});a.addCommand("mceDirectionRTL",function(){g(a,"rtl")})},h=function(a){var b=[];
return f.each("h1 h2 h3 h4 h5 h6 div p".split(" "),function(c){b.push(c+"[dir="+a+"]")}),b.join(",")};k.add("directionality",function(a){l(a);a.addButton("ltr",{title:"Left to right",cmd:"mceDirectionLTR",stateSelector:h("ltr")});a.addButton("rtl",{title:"Right to left",cmd:"mceDirectionRTL",stateSelector:h("rtl")})})}();
