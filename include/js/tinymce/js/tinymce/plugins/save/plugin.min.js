!function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),f=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),g=tinymce.util.Tools.resolve("tinymce.util.Tools"),c=function(a,b){a.notificationManager.open({text:a.translate(b),type:"error"})},h=function(a){a.addCommand("mceSave",function(){var b;if(b=f.DOM.getParent(a.id,"form"),!a.getParam("save_enablewhendirty",!0)||a.isDirty())(a.save(),a.getParam("save_onsavecallback"))?(a.execCallback("save_onsavecallback",a),a.nodeChanged()):b?(a.setDirty(!1),
b.onsubmit&&!b.onsubmit()||("function"==typeof b.submit?b.submit():c(a,"Error: Form submit field collision.")),a.nodeChanged()):c(a,"Error: No form element found.")});a.addCommand("mceCancel",function(){var b=g.trim(a.startContent);a.getParam("save_oncancelcallback")?a.execCallback("save_oncancelcallback",a):(a.setContent(b),a.undoManager.clear(),a.nodeChanged())})},d=function(a){return function(b){var c=b.control;a.on("nodeChange dirty",function(){c.disabled(a.getParam("save_enablewhendirty",!0)&&
!a.isDirty())})}};e.add("save",function(a){a.addButton("save",{icon:"save",text:"Save",cmd:"mceSave",disabled:!0,onPostRender:d(a)});a.addButton("cancel",{text:"Cancel",icon:!1,cmd:"mceCancel",disabled:!0,onPostRender:d(a)});a.addShortcut("Meta+S","","mceSave");h(a)})}();
