var $jscomp={scope:{},findInternal:function(c,l,f){c instanceof String&&(c=String(c));for(var n=c.length,m=0;m<n;m++){var q=c[m];if(l.call(f,q,m,c))return{i:m,v:q}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(c,l,f){if(f.get||f.set)throw new TypeError("ES3 does not support getters and setters.");c!=Array.prototype&&c!=Object.prototype&&(c[l]=f.value)};
$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(c,l,f,n){if(l){f=$jscomp.global;c=c.split(".");for(n=0;n<c.length-1;n++){var m=c[n];m in f||(f[m]={});f=f[m]}c=c[c.length-1];n=f[c];l=l(n);l!=n&&null!=l&&$jscomp.defineProperty(f,c,{configurable:!0,writable:!0,value:l})}};
$jscomp.polyfill("Array.prototype.find",function(c){return c?c:function(c,f){return $jscomp.findInternal(this,c,f).v}},"es6-impl","es3");
!function(){var c=function(a){var d=a;return{get:function(){return d},set:function(a){d=a},clone:function(){return c(d)}}},l=tinymce.util.Tools.resolve("tinymce.PluginManager"),f=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),n=function(a){return Math.min(f.DOM.getViewPort().w,a.getParam("codesample_dialog_width",800))},m=function(a){return Math.min(f.DOM.getViewPort().w,a.getParam("codesample_dialog_height",650))},q={},r=void 0!==q?q:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?
self:{},b=function(){var a=/\blang(?:uage)?-(?!\*)(\w+)\b/i,d=r.Prism={util:{encode:function(a){return a instanceof b?new b(a.type,d.util.encode(a.content),a.alias):"Array"===d.util.type(a)?a.map(d.util.encode):a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(a){return Object.prototype.toString.call(a).match(/\[object (\w+)\]/)[1]},clone:function(a){switch(d.util.type(a)){case "Object":var e={},b;for(b in a)a.hasOwnProperty(b)&&(e[b]=d.util.clone(a[b]));return e;
case "Array":return a.map&&a.map(function(a){return d.util.clone(a)})}return a}},languages:{extend:function(a,b){a=d.util.clone(d.languages[a]);for(var e in b)a[e]=b[e];return a},insertBefore:function(a,b,k,x){var e=(x=x||d.languages)[a];if(2===arguments.length){for(var g in k=arguments[1])k.hasOwnProperty(g)&&(e[g]=k[g]);return e}var c={},f;for(f in e)if(e.hasOwnProperty(f)){if(f===b)for(g in k)k.hasOwnProperty(g)&&(c[g]=k[g]);c[f]=e[f]}return d.languages.DFS(d.languages,function(e,d){d===x[a]&&
e!==a&&(this[e]=c)}),x[a]=c},DFS:function(a,b,k){for(var e in a)a.hasOwnProperty(e)&&(b.call(a,e,a[e],k||e),"Object"===d.util.type(a[e])?d.languages.DFS(a[e],b):"Array"===d.util.type(a[e])&&d.languages.DFS(a[e],b,e))}},plugins:{},highlightAll:function(a,b){for(var e=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),g=0,c;c=e[g++];)d.highlightElement(c,!0===a,b)},highlightElement:function(e,b,k){for(var g,c,f=e;f&&!a.test(f.className);)f=
f.parentNode;f&&(g=(f.className.match(a)||[,""])[1],c=d.languages[g]);e.className=e.className.replace(a,"").replace(/\s+/g," ")+" language-"+g;f=e.parentNode;/pre/i.test(f.nodeName)&&(f.className=f.className.replace(a,"").replace(/\s+/g," ")+" language-"+g);var f=e.textContent,h={element:e,language:g,grammar:c,code:f};f&&c?(d.hooks.run("before-highlight",h),b&&r.Worker)?(e=new Worker(d.filename),e.onmessage=function(a){h.highlightedCode=a.data;d.hooks.run("before-insert",h);h.element.innerHTML=h.highlightedCode;
k&&k.call(h.element);d.hooks.run("after-highlight",h);d.hooks.run("complete",h)},e.postMessage(JSON.stringify({language:h.language,code:h.code,immediateClose:!0}))):(h.highlightedCode=d.highlight(h.code,h.grammar,h.language),d.hooks.run("before-insert",h),h.element.innerHTML=h.highlightedCode,k&&k.call(e),d.hooks.run("after-highlight",h),d.hooks.run("complete",h)):d.hooks.run("complete",h)},highlight:function(a,g,k){a=d.tokenize(a,g);return b.stringify(d.util.encode(a),k)},tokenize:function(a,b,k){k=
d.Token;var e=[a],g=b.rest;if(g){for(var c in g)b[c]=g[c];delete b.rest}a:for(c in b)if(b.hasOwnProperty(c)&&b[c])for(var g=b[c],g="Array"===d.util.type(g)?g:[g],f=0;f<g.length;++f)for(var u=g[f],l=u.inside,n=!!u.lookbehind,m=0,r=u.alias,u=u.pattern||u,p=0;p<e.length;p++){var v=e[p];if(e.length>a.length)break a;if(!(v instanceof k)){u.lastIndex=0;var t=u.exec(v);if(t){n&&(m=t[1].length);var q=t.index-1+m,w=q+(t=t[0].slice(m)).length,q=v.slice(0,q+1),v=v.slice(w+1),w=[p,1];q&&w.push(q);t=new k(c,l?
d.tokenize(t,l):t,r);w.push(t);v&&w.push(v);Array.prototype.splice.apply(e,w)}}}return e},hooks:{all:{},add:function(a,b){var e=d.hooks.all;e[a]=e[a]||[];e[a].push(b)},run:function(a,b){if((a=d.hooks.all[a])&&a.length)for(var e=0,g;g=a[e++];)g(b)}}},b=d.Token=function(a,b,d){this.type=a;this.content=b;this.alias=d};if(b.stringify=function(a,g,c){if("string"==typeof a)return a;if("Array"===d.util.type(a))return a.map(function(d){return b.stringify(d,g,a)}).join("");c={type:a.type,content:b.stringify(a.content,
g,c),tag:"span",classes:["token",a.type],attributes:{},language:g,parent:c};if("comment"===c.type&&(c.attributes.spellcheck="true"),a.alias){var e="Array"===d.util.type(a.alias)?a.alias:[a.alias];Array.prototype.push.apply(c.classes,e)}d.hooks.run("wrap",c);var e="",f;for(f in c.attributes)e+=(e?" ":"")+f+'="'+(c.attributes[f]||"")+'"';return"<"+c.tag+' class="'+c.classes.join(" ")+'" '+e+">"+c.content+"</"+c.tag+">"},!r.document)return r.addEventListener?(r.addEventListener("message",function(a){a=
JSON.parse(a.data);var b=a.language,e=a.immediateClose;r.postMessage(d.highlight(a.code,d.languages[b],b));e&&r.close()},!1),r.Prism):r.Prism}();"undefined"!=typeof module&&module.exports&&(module.exports=b);"undefined"!=typeof global&&(global.Prism=b);b.languages.markup={comment:/\x3c!--[\w\W]*?--\x3e/,prolog:/<\?[\w\W]+?\?>/,doctype:/<!DOCTYPE[\w\W]+?>/,cdata:/<!\[CDATA\[[\w\W]*?]]\x3e/i,tag:{pattern:/<\/?[^\s>\/=.]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\\1|\\?(?!\1)[\w\W])*\1|[^\s'">=]+))?)*\s*\/?>/i,
inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/i,inside:{punctuation:/[=>"']/}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i};b.hooks.add("wrap",function(a){"entity"===a.type&&(a.attributes.title=a.content.replace(/&amp;/,"&"))});b.languages.xml=b.languages.markup;b.languages.html=b.languages.markup;b.languages.mathml=b.languages.markup;
b.languages.svg=b.languages.markup;b.languages.css={comment:/\/\*[\w\W]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^\{\}\s][^\{\};]*?(?=\s*\{)/,string:/("|')(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1/,property:/(\b|\B)[\w-]+(?=\s*:)/i,important:/\B!important\b/i,"function":/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/};b.languages.css.atrule.inside.rest=b.util.clone(b.languages.css);b.languages.markup&&
(b.languages.insertBefore("markup","tag",{style:{pattern:/<style[\w\W]*?>[\w\W]*?<\/style>/i,inside:{tag:{pattern:/<style[\w\W]*?>|<\/style>/i,inside:b.languages.markup.tag.inside},rest:b.languages.css},alias:"language-css"}}),b.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|').*?\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:b.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:b.languages.css}},alias:"language-css"}},
b.languages.markup.tag));b.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0}],string:/(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,"boolean":/\b(true|false)\b/,
"function":/[a-z0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/};b.languages.javascript=b.languages.extend("clike",{keyword:/\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/,
number:/\b-?(0x[\dA-Fa-f]+|0b[01]+|0o[0-7]+|\d*\.?\d+([Ee][+-]?\d+)?|NaN|Infinity)\b/,"function":/[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*(?=\()/i});b.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\\\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0}});b.languages.insertBefore("javascript","class-name",{"template-string":{pattern:/`(?:\\`|\\?[^`])*`/,inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,
alias:"punctuation"},rest:b.languages.javascript}},string:/[\s\S]+/}}});b.languages.markup&&b.languages.insertBefore("markup","tag",{script:{pattern:/<script[\w\W]*?>[\w\W]*?<\/script>/i,inside:{tag:{pattern:/<script[\w\W]*?>|<\/script>/i,inside:b.languages.markup.tag.inside},rest:b.languages.javascript},alias:"language-javascript"}});b.languages.js=b.languages.javascript;b.languages.c=b.languages.extend("clike",{keyword:/\b(asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,
operator:/\-[>-]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|?\||[~^%?*\/]/,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)[ful]*\b/i});b.languages.insertBefore("c","string",{macro:{pattern:/(^\s*)#\s*[a-z]+([^\r\n\\]|\\.|\\(?:\r\n?|\n))*/im,lookbehind:!0,alias:"property",inside:{string:{pattern:/(#\s*include\s*)(<.+?>|("|')(\\?.)+?\3)/,lookbehind:!0}}}});delete b.languages.c["class-name"];delete b.languages.c["boolean"];b.languages.csharp=b.languages.extend("clike",{keyword:/\b(abstract|as|async|await|base|bool|break|byte|case|catch|char|checked|class|const|continue|decimal|default|delegate|do|double|else|enum|event|explicit|extern|false|finally|fixed|float|for|foreach|goto|if|implicit|in|int|interface|internal|is|lock|long|namespace|new|null|object|operator|out|override|params|private|protected|public|readonly|ref|return|sbyte|sealed|short|sizeof|stackalloc|static|string|struct|switch|this|throw|true|try|typeof|uint|ulong|unchecked|unsafe|ushort|using|virtual|void|volatile|while|add|alias|ascending|async|await|descending|dynamic|from|get|global|group|into|join|let|orderby|partial|remove|select|set|value|var|where|yield)\b/,
string:[/@("|')(\1\1|\\\1|\\?(?!\1)[\s\S])*\1/,/("|')(\\?.)*?\1/],number:/\b-?(0x[\da-f]+|\d*\.?\d+)\b/i});b.languages.insertBefore("csharp","keyword",{preprocessor:{pattern:/(^\s*)#.*/m,lookbehind:!0}});b.languages.cpp=b.languages.extend("c",{keyword:/\b(alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|class|compl|const|constexpr|const_cast|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|float|for|friend|goto|if|inline|int|long|mutable|namespace|new|noexcept|nullptr|operator|private|protected|public|register|reinterpret_cast|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,
"boolean":/\b(true|false)\b/,operator:/[-+]{1,2}|!=?|<{1,2}=?|>{1,2}=?|\->|:{1,2}|={1,2}|\^|~|%|&{1,2}|\|?\||\?|\*|\/|\b(and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/});b.languages.insertBefore("cpp","keyword",{"class-name":{pattern:/(class\s+)[a-z0-9_]+/i,lookbehind:!0}});b.languages.java=b.languages.extend("clike",{keyword:/\b(abstract|continue|for|new|switch|assert|default|goto|package|synchronized|boolean|do|if|private|this|break|double|implements|protected|throw|byte|else|import|public|throws|case|enum|instanceof|return|transient|catch|extends|int|short|try|char|final|interface|static|void|class|finally|long|strictfp|volatile|const|float|native|super|while)\b/,
number:/\b0b[01]+\b|\b0x[\da-f]*\.?[\da-fp\-]+\b|\b\d*\.?\d+(?:e[+-]?\d+)?[df]?\b/i,operator:{pattern:/(^|[^.])(?:\+[+=]?|-[-=]?|!=?|<<?=?|>>?>?=?|==?|&[&=]?|\|[|=]?|\*=?|\/=?|%=?|\^=?|[?:~])/m,lookbehind:!0}});b.languages.php=b.languages.extend("clike",{keyword:/\b(and|or|xor|array|as|break|case|cfunction|class|const|continue|declare|default|die|do|else|elseif|enddeclare|endfor|endforeach|endif|endswitch|endwhile|extends|for|foreach|function|include|include_once|global|if|new|return|static|switch|use|require|require_once|var|while|abstract|interface|public|implements|private|protected|parent|throw|null|echo|print|trait|namespace|final|yield|goto|instanceof|finally|try|catch)\b/i,
constant:/\b[A-Z0-9_]{2,}\b/,comment:{pattern:/(^|[^\\])(?:\/\*[\w\W]*?\*\/|\/\/.*)/,lookbehind:!0}});b.languages.insertBefore("php","class-name",{"shell-comment":{pattern:/(^|[^\\])#.*/,lookbehind:!0,alias:"comment"}});b.languages.insertBefore("php","keyword",{delimiter:/\?>|<\?(?:php)?/i,variable:/\$\w+\b/i,"package":{pattern:/(\\|namespace\s+|use\s+)[\w\\]+/,lookbehind:!0,inside:{punctuation:/\\/}}});b.languages.insertBefore("php","operator",{property:{pattern:/(->)[\w]+/,lookbehind:!0}});b.languages.markup&&
(b.hooks.add("before-highlight",function(a){"php"===a.language&&(a.tokenStack=[],a.backupCode=a.code,a.code=a.code.replace(/(?:<\?php|<\?)[\w\W]*?(?:\?>)/gi,function(b){return a.tokenStack.push(b),"{{{PHP"+a.tokenStack.length+"}}}"}))}),b.hooks.add("before-insert",function(a){"php"===a.language&&(a.code=a.backupCode,delete a.backupCode)}),b.hooks.add("after-highlight",function(a){if("php"===a.language){for(var d=0,c;c=a.tokenStack[d];d++)a.highlightedCode=a.highlightedCode.replace("{{{PHP"+(d+1)+
"}}}",b.highlight(c,a.grammar,"php").replace(/\$/g,"$$$$"));a.element.innerHTML=a.highlightedCode}}),b.hooks.add("wrap",function(a){"php"===a.language&&"markup"===a.type&&(a.content=a.content.replace(/(\{\{\{PHP[0-9]+\}\}\})/g,'<span class="token php">$1</span>'))}),b.languages.insertBefore("php","comment",{markup:{pattern:/<[^?]\/?(.*?)>/,inside:b.languages.markup},php:/\{\{\{PHP[0-9]+\}\}\}/}));b.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},string:/"""[\s\S]+?"""|'''[\s\S]+?'''|("|')(?:\\?.)*?\1/,
"function":{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_][a-zA-Z0-9_]*(?=\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)[a-z0-9_]+/i,lookbehind:!0},keyword:/\b(?:as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|pass|print|raise|return|try|while|with|yield)\b/,"boolean":/\b(?:True|False)\b/,number:/\b-?(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*\.?\d*|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]|\b(?:or|and|not)\b/,
punctuation:/[{}[\];(),.:]/};(function(a){a.languages.ruby=a.languages.extend("clike",{comment:/#(?!\{[^\r\n]*?\}).*/,keyword:/\b(alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|false|for|if|in|module|new|next|nil|not|or|raise|redo|require|rescue|retry|return|self|super|then|throw|true|undef|unless|until|when|while|yield)\b/});var b={pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"tag"},rest:a.util.clone(a.languages.ruby)}};a.languages.insertBefore("ruby",
"keyword",{regex:[{pattern:/%r([^a-zA-Z0-9\s\{\(\[<])(?:[^\\]|\\[\s\S])*?\1[gim]{0,3}/,inside:{interpolation:b}},{pattern:/%r\((?:[^()\\]|\\[\s\S])*\)[gim]{0,3}/,inside:{interpolation:b}},{pattern:/%r\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}[gim]{0,3}/,inside:{interpolation:b}},{pattern:/%r\[(?:[^\[\]\\]|\\[\s\S])*\][gim]{0,3}/,inside:{interpolation:b}},{pattern:/%r<(?:[^<>\\]|\\[\s\S])*>[gim]{0,3}/,inside:{interpolation:b}},{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/,
lookbehind:!0}],variable:/[@$]+[a-zA-Z_][a-zA-Z_0-9]*(?:[?!]|\b)/,symbol:/:[a-zA-Z_][a-zA-Z_0-9]*(?:[?!]|\b)/});a.languages.insertBefore("ruby","number",{builtin:/\b(Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|File|Fixnum|Fload|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z][a-zA-Z_0-9]*(?:[?!]|\b)/});a.languages.ruby.string=[{pattern:/%[qQiIwWxs]?([^a-zA-Z0-9\s\{\(\[<])(?:[^\\]|\\[\s\S])*?\1/,
inside:{interpolation:b}},{pattern:/%[qQiIwWxs]?\((?:[^()\\]|\\[\s\S])*\)/,inside:{interpolation:b}},{pattern:/%[qQiIwWxs]?\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/,inside:{interpolation:b}},{pattern:/%[qQiIwWxs]?\[(?:[^\[\]\\]|\\[\s\S])*\]/,inside:{interpolation:b}},{pattern:/%[qQiIwWxs]?<(?:[^<>\\]|\\[\s\S])*>/,inside:{interpolation:b}},{pattern:/("|')(#\{[^}]+\}|\\(?:\r?\n|\r)|\\?.)*?\1/,inside:{interpolation:b}}]})(b);var p={isCodeSample:function(a){return a&&"PRE"===a.nodeName&&-1!==a.className.indexOf("language-")},
trimArg:function(a){return function(b,c){return a(c)}}},y=function(a){a=a.selection.getNode();return p.isCodeSample(a)?a:null},B=function(a,d,c){a.undoManager.transact(function(){var e=y(a);c=f.DOM.encode(c);e?(a.dom.setAttrib(e,"class","language-"+d),e.innerHTML=c,b.highlightElement(e),a.selection.select(e)):(a.insertContent('<pre id="__new" class="language-'+d+'">'+c+"</pre>"),a.selection.select(a.$("#__new").removeAttr("id")[0]))})},C=function(a){return(a=y(a))?a.textContent:""},D=function(a){var b;
return(a=y(a))&&(b=a.className.match(/language-(\w+)/))?b[1]:""},z=function(a){var b=n(a),c=m(a),e=D(a),g=a.settings.codesample_languages||[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],f=C(a);a.windowManager.open({title:"Insert/Edit code sample",minWidth:b,minHeight:c,
layout:"flex",direction:"column",align:"stretch",body:[{type:"listbox",name:"language",label:"Language",maxWidth:200,value:e,values:g},{type:"textbox",name:"code",multiline:!0,spellcheck:!1,ariaLabel:"Code view",flex:1,style:"direction: ltr; text-align: left",classes:"monospace",value:f,autofocus:!0}],onSubmit:function(b){B(a,b.data.language,b.data.code)}})},E=function(a){a.addCommand("codesample",function(){var b=a.selection.getNode();a.selection.isCollapsed()||p.isCodeSample(b)?z(a):a.formatter.toggle("code")})},
F=function(a){var c=a.$;a.on("PreProcess",function(a){c("pre[contenteditable=false]",a.node).filter(p.trimArg(p.isCodeSample)).each(function(a,b){a=c(b);var e=b.textContent;a.attr("class",c.trim(a.attr("class")));a.removeAttr("contentEditable");a.empty().append(c("<code></code>").each(function(){this.textContent=e}))})});a.on("SetContent",function(){var d=c("pre").filter(p.trimArg(p.isCodeSample)).filter(function(a,b){return"false"!==b.contentEditable});d.length&&a.undoManager.transact(function(){d.each(function(e,
d){c(d).find("br").each(function(b,c){c.parentNode.replaceChild(a.getDoc().createTextNode("\n"),c)});d.contentEditable=!1;d.innerHTML=a.dom.encode(d.textContent);b.highlightElement(d);d.className=c.trim(d.className)})})})},G=function(a){a.addButton("codesample",{cmd:"codesample",title:"Insert/Edit code sample"});a.addMenuItem("codesample",{cmd:"codesample",text:"Code sample",icon:"codesample"})},A=c(!1);l.add("codesample",function(a,b){var d=c(!1);F(a);G(a);E(a);a.on("init",function(){var c,f=a.settings.codesample_content_css;
a.inline&&A.get()||!a.inline&&d.get()||(a.inline?A.set(!0):d.set(!0),!1!==f&&(c=a.dom.create("link",{rel:"stylesheet",href:f||b+"/css/prism.css"}),a.getDoc().getElementsByTagName("head")[0].appendChild(c)))});a.on("dblclick",function(b){p.isCodeSample(b.target)&&z(a)})})}();
