var $jscomp={scope:{},findInternal:function(q,B,A){q instanceof String&&(q=String(q));for(var C=q.length,D=0;D<C;D++){var ra=q[D];if(B.call(A,ra,D,q))return{i:D,v:ra}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(q,B,A){if(A.get||A.set)throw new TypeError("ES3 does not support getters and setters.");q!=Array.prototype&&q!=Object.prototype&&(q[B]=A.value)};
$jscomp.getGlobal=function(q){return"undefined"!=typeof window&&window===q?q:"undefined"!=typeof global&&null!=global?global:q};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(q,B,A,C){if(B){A=$jscomp.global;q=q.split(".");for(C=0;C<q.length-1;C++){var D=q[C];D in A||(A[D]={});A=A[D]}q=q[q.length-1];C=A[q];B=B(C);B!=C&&null!=B&&$jscomp.defineProperty(A,q,{configurable:!0,writable:!0,value:B})}};
$jscomp.polyfill("Array.prototype.find",function(q){return q?q:function(q,A){return $jscomp.findInternal(this,q,A).v}},"es6-impl","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(q){return $jscomp.SYMBOL_PREFIX+(q||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var q=$jscomp.global.Symbol.iterator;q||(q=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[q]&&$jscomp.defineProperty(Array.prototype,q,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(q){var B=0;return $jscomp.iteratorPrototype(function(){return B<q.length?{done:!1,value:q[B++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(q){$jscomp.initSymbolIterator();q={next:q};q[$jscomp.global.Symbol.iterator]=function(){return this};return q};$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(q,B){$jscomp.initSymbolIterator();q instanceof String&&(q+="");var A=0,C={next:function(){if(A<q.length){var D=A++;return{value:B(D,q[D]),done:!1}}C.next=function(){return{done:!0,value:void 0}};return C.next()}};C[Symbol.iterator]=function(){return C};return C};
$jscomp.polyfill("Array.prototype.values",function(q){return q?q:function(){return $jscomp.iteratorFromArray(this,function(q,A){return A})}},"es6","es3");$jscomp.polyfill("Array.prototype.keys",function(q){return q?q:function(){return $jscomp.iteratorFromArray(this,function(q){return q})}},"es6-impl","es3");
!function(){function q(){}function B(a){this.cls=[];this.cls._map={};this.onchange=a||q;this.prefix=""}function A(a){return a._eventDispatcher||(a._eventDispatcher=new pb({scope:a,toggleEvent:function(b,c){c&&pb.isNative(b)&&(a._nativeEvents||(a._nativeEvents={}),a._nativeEvents[b]=!0,a.state.get("rendered")&&C(a))}})),a._eventDispatcher}function C(a){function b(b){var c=a.getParentCtrl(b.target);c&&c.fire(b.type,b)}function c(){var a=k._lastHoverCtrl;a&&(a.fire("mouseleave",{target:a.getEl()}),a.parents().each(function(a){a.fire("mouseleave",
{target:a.getEl()})}),k._lastHoverCtrl=null)}function d(b){var c,d,e=a.getParentCtrl(b.target),f=k._lastHoverCtrl,g=0;if(e!==f){if(k._lastHoverCtrl=e,(c=e.parents().toArray().reverse()).push(e),f){(d=f.parents().toArray().reverse()).push(f);for(g=0;g<d.length&&c[g]===d[g];g++);for(b=d.length-1;b>=g;b--)(f=d[b]).fire("mouseleave",{target:f.getEl()})}for(b=g;b<c.length;b++)(e=c[b]).fire("mouseenter",{target:e.getEl()})}}function e(b){b.preventDefault();"mousewheel"===b.type?(b.deltaY=-.025*b.wheelDelta,
b.wheelDeltaX&&(b.deltaX=-.025*b.wheelDeltaX)):(b.deltaX=0,b.deltaY=b.detail);a.fire("wheel",b)}var f,g,h,k,l,n;if(l=a._nativeEvents){(h=a.parents().toArray()).unshift(a);f=0;for(g=h.length;!k&&f<g;f++)k=h[f]._eventsRoot;k||(k=h[h.length-1]||a);a._eventsRoot=k;g=f;for(f=0;f<g;f++)h[f]._eventsRoot=k;f=k._delegates;for(n in f||(f=k._delegates={}),l){if(!l)return!1;"wheel"!==n?("mouseenter"===n||"mouseleave"===n?k._hasMouseEnter||(p(k.getEl()).on("mouseleave",c).on("mouseover",d),k._hasMouseEnter=1):
f[n]||(p(k.getEl()).on(n,b),f[n]=!0),l[n]=!1):Pc?p(a.getEl()).on("mousewheel",e):p(a.getEl()).on("DOMMouseScroll",e)}}}function D(a,b,c){var d,e,f,g,h,k,l,n,z,u;return z=qb(),f=(e=r.getPos(b,ha.getUiContainer(a))).x,g=e.y,sa(a)&&"static"===r.getRuntimeStyle(document.body,"position")&&(f-=z.x,g-=z.y),d=a.getEl(),h=(u=r.getSize(d)).width,k=u.height,l=(u=r.getSize(b)).width,n=u.height,"b"===(c=(c||"").split(""))[0]&&(g+=n),"r"===c[1]&&(f+=l),"c"===c[0]&&(g+=Math.round(n/2)),"c"===c[1]&&(f+=Math.round(l/
2)),"b"===c[3]&&(g-=k),"r"===c[4]&&(f-=h),"c"===c[3]&&(g-=Math.round(k/2)),"c"===c[4]&&(f-=Math.round(h/2)),{x:f,y:g,w:h,h:k}}function ra(a){var b=function(a){return a.inline?a.getElement():a.getContentAreaContainer()};return{open:function(c,d){var e;c=m.extend(c,{maxWidth:(e=b(a),r.getSize(e).width)});var f=new rb(c);return f.args=c,0<c.timeout&&(f.timer=setTimeout(function(){f.close();d()},c.timeout)),f.on("close",function(){d()}),f.renderTo(),f},close:function(a){a.close()},reposition:function(c){x.each(c,
function(a){a.moveTo(0,0)});(function(c){if(0<c.length){var d=c.slice(0,1)[0],f=b(a);d.moveRel(f,"tc-tc");x.each(c,function(a,b){0<b&&a.moveRel(c[b-1].getEl(),"bc-tc")})}})(c)},getArgs:function(a){return a.args}}}function Ia(a){var b,c;if(a.changedTouches)for(b="screenX screenY pageX pageY clientX clientY".split(" "),c=0;c<b.length;c++)a[b[c]]=a.changedTouches[0][b[c]]}function T(a,b){var c,d,e,f,g,h,k=b.document||document;b=b||{};var l=k.getElementById(b.handle||a);f=function(a){if(Ia(a),a.button!==
d)return e(a);a.deltaX=a.screenX-g;a.deltaY=a.screenY-h;a.preventDefault();b.drag(a)};e=function(a){Ia(a);p(k).off("mousemove touchmove",f).off("mouseup touchend",e);c.remove();b.stop&&b.stop(a)};this.destroy=function(){p(l).off()};p(l).on("mousedown touchstart",function(a){var n,u,Q,m,q,r,Ja,U,t=(U=Math.max,n=k.documentElement,u=k.body,Q=U(n.scrollWidth,u.scrollWidth),m=U(n.clientWidth,u.clientWidth),q=U(n.offsetWidth,u.offsetWidth),r=U(n.scrollHeight,u.scrollHeight),Ja=U(n.clientHeight,u.clientHeight),
{width:Q<q?m:Q,height:r<U(n.offsetHeight,u.offsetHeight)?Ja:r});Ia(a);a.preventDefault();d=a.button;g=a.screenX;h=a.screenY;n=window.getComputedStyle?window.getComputedStyle(l,null).getPropertyValue("cursor"):l.runtimeStyle.cursor;c=p("<div></div>").css({position:"absolute",top:0,left:0,width:t.width,height:t.height,zIndex:2147483647,opacity:1E-4,cursor:n}).appendTo(k.body);p(k).on("mousemove touchmove",f).on("mouseup touchend",e);b.start(a)})}function sb(a){function b(a){var b=a=a||m;return b&&1===
b.nodeType?a.getAttribute("role"):null}function c(a){for(var c=a||m;c=c.parentNode;)if(a=b(c))return a}function d(a){var b=m;if(b&&1===b.nodeType)return b.getAttribute("aria-"+a)}function e(a){a=a.tagName.toUpperCase();return"INPUT"===a||"TEXTAREA"===a||"SELECT"===a}function f(a){var c=[];return function Qc(a){if(1===a.nodeType&&"none"!==a.style.display&&!a.disabled){(e(a)&&!a.hidden||a.getAttribute("data-mce-tabstop")||/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(b(a)))&&
c.push(a);for(var d=0;d<a.childNodes.length;d++)Qc(a.childNodes[d])}}(a||p.getEl()),c}function g(a){var b,c;(c=(a=a||q).parents().toArray()).unshift(a);for(a=0;a<c.length&&!(b=c[a]).settings.ariaRoot;a++);return b}function h(a,b){return 0>a?a=b.length-1:a>=b.length&&(a=0),b[a]&&b[a].focus(),a}function k(a,b){var c=-1,d=g();b=b||f(d.getEl());for(var e=0;e<b.length;e++)b[e]===m&&(c=e);d.lastAriaIndex=h(c+a,b)}function l(){"tablist"===c()?k(-1,f(m.parentNode)):q.parent().submenu?q.fire("cancel"):k(-1)}
function n(){var a=b(),e=c();"tablist"===e?k(1,f(m.parentNode)):"menuitem"===a&&"menu"===e&&d("haspopup")?Q():k(1)}function z(){k(-1)}function u(){var a=b(),e=c();"menuitem"===a&&"menubar"===e?Q():"button"===a&&d("haspopup")?Q({key:"down"}):k(1)}function Q(a){a=a||{};q.fire("click",{target:m,aria:a})}var m,q,p=a.root;try{m=document.activeElement}catch(Ja){m=document.body}return q=p.getParentCtrl(m),p.on("keydown",function(a){function d(a,c){e(m)||m.getAttribute("data-mce-tabstop")||"slider"!==b(m)&&
!1!==c(a)&&a.preventDefault()}if(!a.isDefaultPrevented())switch(a.keyCode){case 37:d(a,l);break;case 39:d(a,n);break;case 38:d(a,z);break;case 40:d(a,u);break;case 27:q.fire("cancel");break;case 14:case 13:case 32:d(a,Q);break;case 9:!function(a){"tablist"===c()?(a=f(q.getEl("body"))[0])&&a.focus():k(a.shiftKey?-1:1)}(a),a.preventDefault()}}),p.on("focusin",function(a){m=a.target;q=a.control}),{focusFirst:function(a){a=g(a);var b=f(a.getEl());a.settings.ariaRemember&&"lastAriaIndex"in a?h(a.lastAriaIndex,
b):h(0,b)}}}function Rc(){Ka||(Ka=function(a){if(2!==a.button)for(var b=E.length;b--;){var c=E[b],d=c.getParentCtrl(a.target),e;if(!(e=!c.settings.autohide)&&(e=d)){a:{e=d;for(var f=c;e;){if(e===f){e=!0;break a}e=e.parent()}e=void 0}e=e||c.parent()===d}e||(a=c.fire("autohide",{target:a.target})).isDefaultPrevented()||c.hide()}},p(document).on("click touchstart",Ka))}function tb(a){function b(b,c){for(var d,e=0;e<E.length;e++)if(E[e]!==a)for(d=E[e].parent();d&&(d=d.parent());)d===a&&E[e].fixed(b).moveBy(0,
c).repaint()}var c=r.getViewPort().y;a.settings.autofix&&(a.state.get("fixed")?a._autoFixY>c&&(a.fixed(!1).layoutRect({y:a._autoFixY}).repaint(),b(!1,a._autoFixY-c)):(a._autoFixY=a.layoutRect().y,a._autoFixY<c&&(a.fixed(!0).layoutRect({y:0}).repaint(),b(!0,c-a._autoFixY))))}function La(a,b){var c,d=M.zIndex||65535;if(a)H.push(b);else for(a=H.length;a--;)H[a]===b&&H.splice(a,1);if(H.length)for(a=0;a<H.length;a++)H[a].modal&&(d++,c=H[a]),H[a].getEl().style.zIndex=d,H[a].zIndex=d,d++;b=p("#"+b.classPrefix+
"modal-block",b.getContainerElm())[0];c?p(b).css("z-index",c.zIndex-1):b&&(b.parentNode.removeChild(b),Ma=!1);M.currentZIndex=d}function ub(a){var b;for(b=E.length;b--;)E[b]===a&&E.splice(b,1);for(b=H.length;b--;)H[b]===a&&H.splice(b,1)}function vb(a){var b,c=p("meta[name=viewport]")[0];!1!==L.overrideViewPort&&(c||((c=document.createElement("meta")).setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(c)),(b=c.getAttribute("content"))&&void 0!==Na&&(Na=b),c.setAttribute("content",
a?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":Na))}function Sc(){var a,b,c=function(a){return 0<a.items().length},d=function(a,b){b=m.map(b,function(b){return Oa.create(a,b.id,b.items)}).concat([Oa.create(a,"text",Z.getTextSelectionToolbarItems(a)),Oa.create(a,"insert",Z.getInsertToolbarItems(a)),Tc.createQuickLinkForm(a,h)]);return I.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",
direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:m.grep(b,c),oncancel:function(){a.focus()}})},e=function(a,b){b=b?b.substr(0,2):"";m.each({t:"down",b:"up",c:"center"},function(c,d){a.classes.toggle("arrow-"+c,d===b.substr(0,1))});"cr"===b?(a.classes.toggle("arrow-left",!0),a.classes.toggle("arrow-right",!1)):"cl"===b?(a.classes.toggle("arrow-left",!0),a.classes.toggle("arrow-right",!0)):m.each({l:"left",r:"right"},function(c,d){a.classes.toggle("arrow-"+c,d===b.substr(1,
1))})},f=function(a,b){b=a.items().filter("#"+b);return 0<b.length&&(b[0].show(),a.reflow(),!0)},g=function(a,c,d,f){var g,h,k;return(k=Z.getPositionHandler(d),g=aa.getContentAreaRect(d),h=v.DOM.getRect(a.getEl()),c="insert"===c?ba.calcInsert(f,g,h):ba.calc(f,g,h))?(h=Uc.getUiContainerDelta().getOr({x:0,y:0}),h={x:c.rect.x-h.x,y:c.rect.y-h.y,w:c.rect.w,h:c.rect.h},b=f,f=ba.userConstrain(k,f,g,h),a.moveTo(f.x,f.y),e(a,c.position),!0):!1},h=function(){a&&a.hide()};return{show:function(b,c,e,z){a||(wb.fireBeforeRenderUI(b),
(a=d(b,z)).renderTo().reflow().moveTo(e.x,e.y),b.nodeChanged());var k=z=a;k&&k.show();z.items().hide();f(z,c)?!1===g(z,c,b,e)&&h():h()},showForm:function(c,d){if(a){if(a.items().hide(),!f(a,d))return void h();var g,k;a&&a.show();a.items().hide();f(a,d);d=Z.getPositionHandler(c);g=aa.getContentAreaRect(c);k=v.DOM.getRect(a.getEl());if(c=ba.calc(b,g,k))k=c.rect,d=ba.userConstrain(d,b,g,k),a.moveTo(d.x,d.y),e(a,c.position)}},reposition:function(b,c,d){a&&g(a,c,b,d)},inForm:function(){return a&&a.visible()&&
0<a.items().filter("form:visible").length},hide:h,focus:function(){a&&a.find("toolbar:visible").eq(0).each(function(a){a.focus(!0)})},remove:function(){a&&(a.remove(),a=null)}}}function xb(a,b){var c,d,e=this,f=F.classPrefix;e.show=function(g,h){function k(){c&&(p(a).append('<div class="'+f+"throbber"+(b?" "+f+"throbber-inline":"")+'"></div>'),h&&h())}return e.hide(),c=!0,g?d=J.setTimeout(k,g):k(),e};e.hide=function(){var b=a.lastChild;return J.clearTimeout(d),b&&-1!==b.className.indexOf("throbber")&&
b.parentNode.removeChild(b),c=!1,e}}function yb(a){var b="";if(a)for(var c=0;c<a.length;c++)b+='<option value="'+a[c]+'">'+a[c]+"</option>";return b}function zb(a,b,c){return a<b&&(a=b),a>c&&(a=c),a}function Ab(a,b){var c,d,e,f;"v"===a.settings.orientation?(e="top",d="height",c="h"):(e="left",d="width",c="w");f=a.getEl("handle");c=((a.layoutRect()[c]||100)-r.getSize(f)[d])*((b-a._minValue)/(a._maxValue-a._minValue))+"px";f.style[e]=c;f.style.height=a.layoutRect().h+"px";f.setAttribute("aria-valuenow",
b);b=""+a.settings.previewFilter(b);f.setAttribute("aria-valuetext",b);f.setAttribute("aria-valuemin",a._minValue);f.setAttribute("aria-valuemax",a._maxValue)}var Bb,Cb,Db,Eb,Fb,Pa,Gb,Vc=tinymce.util.Tools.resolve("tinymce.ThemeManager"),L=tinymce.util.Tools.resolve("tinymce.Env"),v=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),J=tinymce.util.Tools.resolve("tinymce.util.Delay"),Hb=function(a){return a.reduce(function(a,c){return Array.isArray(c)?a.concat(Hb(c)):a.concat(c)},[])},Wc={flatten:Hb},
Ib=function(a,b){for(var c=0;c<b.length;c++){var d=(0,b[c])(a);if(d)return d}return null},ta=function(a,b){return{id:a,rect:b}},Qa=function(a){return{left:a.x,top:a.y,width:a.w,height:a.h,right:a.x+a.w,bottom:a.y+a.h}},Jb=function(a){var b=v.DOM.getViewPort();return{x:a.x+b.x,y:a.y+b.y,w:a.w,h:a.h}},Ra=function(a){var b=a.getBoundingClientRect();return Jb({x:b.left,y:b.top,w:Math.max(a.clientWidth,a.offsetWidth),h:Math.max(a.clientHeight,a.offsetHeight)})},aa={getElementRect:function(a,b){return Ra(b)},
getPageAreaRect:function(a){return Ra(a.getElement().ownerDocument.body)},getContentAreaRect:function(a){return Ra(a.getContentAreaContainer()||a.getBody())},getSelectionRect:function(a){return(a=a.selection.getBoundingClientRect())?Jb({x:a.left,y:a.top,w:a.width,h:a.height}):null}},Xc=function(a,b){return function(c){for(var d=0;d<b.length;d++)if(b[d].predicate(a))return ta(b[d].id,aa.getElementRect(c,a));return null}},Yc=function(a,b){return function(c){for(var d=0;d<a.length;d++)for(var e=0;e<
b.length;e++)if(b[e].predicate(a[d]))return ta(b[e].id,aa.getElementRect(c,a[d]));return null}},m=tinymce.util.Tools.resolve("tinymce.util.Tools"),Zc=function(a){return m.map(a,function(a){return{id:a.id,predicate:a.predicate}})},Kb=function(a){return function(b){return b.selection.isCollapsed()?null:ta(a,aa.getSelectionRect(b))}},$c=function(a,b){return function(c){var d,e=c.schema.getTextBlockElements();for(d=0;d<a.length;d++)if("TABLE"===a[d].nodeName)return null;for(d=0;d<a.length;d++)if(a[d].nodeName in
e)return c.dom.isEmpty(a[d])?ta(b,aa.getSelectionRect(c)):null;return null}},wb={fireSkinLoaded:function(a){a.fire("SkinLoaded")},fireBeforeRenderUI:function(a){return a.fire("BeforeRenderUI")}},Sa=tinymce.util.Tools.resolve("tinymce.EditorManager"),ia=function(a){return function(b){return typeof b===a}},Lb=function(a){return Array.isArray(a)},N={isString:ia("string"),isNumber:ia("number"),isBoolean:ia("boolean"),isFunction:ia("function"),isObject:(Bb=ia("object"),function(a){return null!==a&&!Lb(a)&&
Bb(a)}),isNull:function(a){return null===a},isArray:Lb},Mb=function(a,b){if(b(a))return!0;throw Error("Default value doesn't match requested type.");},ua=function(a){return function(b,c,d){b=b.settings;return Mb(d,a),c in b&&a(b[c])?b[c]:d}},Ta={getStringOr:ua(N.isString),getBoolOr:ua(N.isBoolean),getNumberOr:ua(N.isNumber),getHandlerOr:ua(N.isFunction),getToolbarItemsOr:(Cb=N.isArray,function(a,b,c){var d;a=b in a.settings?a.settings[b]:c;return Mb(c,Cb),N.isArray(a)?a:N.isString(a)?"string"==typeof a?
(d=/[ ,]/,a.split(d).filter(function(a){return 0<a.length})):a:N.isBoolean(a)?!1===a?[]:c:c})},ca=tinymce.util.Tools.resolve("tinymce.geom.Rect"),Ua=function(a,b){return{x:b.x,y:b.y,w:a.w,h:a.h}},Nb=function(a,b,c,d,e){var f,g,h;d={x:d.x,y:d.y,w:d.w+(d.w<e.w+c.w?e.w:0),h:d.h+(d.h<e.h+c.h?e.h:0)};return f=ca.findBestRelativePosition(e,c,d,a),c=ca.clamp(c,d),f?(g=ca.relativePosition(e,c,f),h=Ua(e,g),{rect:h,position:f}):(c=ca.intersect(d,c))?(f=ca.findBestRelativePosition(e,c,d,b))?(g=ca.relativePosition(e,
c,f),h=Ua(e,g),{rect:h,position:f}):(h=Ua(e,c),{rect:h,position:f}):null},ba={calcInsert:function(a,b,c){return Nb(["cr-cl","cl-cr"],["bc-tc","bl-tl","br-tr"],a,b,c)},calc:function(a,b,c){return Nb("tc-bc bc-tc tl-bl bl-tl tr-br br-tr cr-cl cl-cr".split(" "),["bc-tc","bl-tl","br-tr","cr-cl"],a,b,c)},userConstrain:function(a,b,c,d){var e;return"function"==typeof a?(e=a({elementRect:Qa(b),contentAreaRect:Qa(c),panelRect:Qa(d)}),{x:e.left,y:e.top,w:e.width,h:e.height}):d},defaultHandler:function(a){return a.panelRect}},
Z={getTextSelectionToolbarItems:function(a){return Ta.getToolbarItemsOr(a,"selection_toolbar","bold italic | quicklink h2 h3 blockquote".split(" "))},getInsertToolbarItems:function(a){return Ta.getToolbarItemsOr(a,"insert_toolbar",["quickimage","quicktable"])},getPositionHandler:function(a){return Ta.getHandlerOr(a,"inline_toolbar_position_handler",ba.defaultHandler)},getSkinUrl:function(a){var b,c,d,e=a.settings;return e.skin_url?(d=e.skin_url,a.documentBaseURI.toAbsolute(d)):(b=e.skin,c=Sa.baseURL+
"/skins/",b?c+b:c+"lightgray")},isSkinDisabled:function(a){return!1===a.settings.skin}},ad=function(a,b){var c=Z.getSkinUrl(a),d=function(){var c,d;d=function(){c._skinLoaded=!0;wb.fireSkinLoaded(c);b()};(c=a).initialized?d():c.on("init",d)};Z.isSkinDisabled(a)?d():(v.DOM.styleSheetLoader.load(c+"/skin.min.css",d),a.contentCSS.push(c+"/content.inline.min.css"))},Va=function(a){return Wc.flatten([a.contextToolbars||[],{predicate:function(b){return a.dom.is(b,"img")},id:"image",items:"alignleft aligncenter alignright"}])},
Ob=function(a,b){var c,d,e,f;return f=a.selection.getNode(),d=a.dom.getParents(f),e=Zc(b),(c=Ib(a,[Xc(d[0],e),Kb("text"),$c(d,"insert"),Yc(d,e)]))&&c.rect?c:null},Pb=function(a,b){return function(){var c,d;a.removed||(c=Va(a),(d=Ob(a,c))?b.show(a,d.id,d.rect,c):b.hide())}},bd=function(a,b){var c,d=J.throttle(Pb(a,b),0),e=J.throttle((c=Pb(a,b),function(){a.removed||b.inForm()||c()}),0),f=function(){var c=Va(a);(c=Ob(a,c))&&b.reposition(a,c.id,c.rect)};a.on("blur hide ObjectResizeStart",b.hide);a.on("click",
d);a.on("nodeChange mouseup",e);a.on("ResizeEditor keyup",d);a.on("ResizeWindow",f);v.DOM.bind(L.container,"scroll",f);a.on("remove",function(){v.DOM.unbind(L.container,"scroll",f);b.remove()});a.shortcuts.add("Alt+F10,F10","",b.focus)},cd=function(a,b){return ad(a,function(){bd(a,b);a.shortcuts.remove("meta+k");a.shortcuts.add("meta+k","",function(){var c=Va(a),d=Ib(a,[Kb("quicklink")]);d&&b.show(a,d.id,d.rect,c)})}),{}},Wa=function(a){return function(){return a}},t={noop:function(){},noarg:function(a){return function(){return a()}},
compose:function(a,b){return function(){return a(b.apply(null,arguments))}},constant:Wa,identity:function(a){return a},tripleEquals:function(a,b){return a===b},curry:function(a){for(var b=Array(arguments.length-1),c=1;c<arguments.length;c++)b[c-1]=arguments[c];return function(){for(var c=Array(arguments.length),e=0;e<c.length;e++)c[e]=arguments[e];c=b.concat(c);return a.apply(null,c)}},not:function(a){return function(){return!a.apply(null,arguments)}},die:function(a){return function(){throw Error(a);
}},apply:function(a){return a()},call:function(a){a()},never:Wa(!1),always:Wa(!0)},ja=t.never,Xa=t.always,V=function(){return Ya},Ya=(Pa={fold:function(a,b){return a()},is:ja,isSome:ja,isNone:Xa,getOr:Fb=function(a){return a},getOrThunk:Eb=function(a){return a()},getOrDie:function(a){throw Error(a||"error: getOrDie called on none.");},or:Fb,orThunk:Eb,map:V,ap:V,each:function(){},bind:V,flatten:V,exists:ja,forall:Xa,filter:V,equals:Db=function(a){return a.isNone()},equals_:Db,toArray:function(){return[]},
toString:t.constant("none()")},Object.freeze&&Object.freeze(Pa),Pa),va=function(a){var b=function(){return a},c=function(){return e},d=function(b){return b(a)},e={fold:function(b,c){return c(a)},is:function(b){return a===b},isSome:Xa,isNone:ja,getOr:b,getOrThunk:b,getOrDie:b,or:c,orThunk:c,map:function(b){return va(b(a))},ap:function(b){return b.fold(V,function(b){return va(b(a))})},each:function(b){b(a)},bind:d,flatten:b,exists:d,forall:d,filter:function(b){return b(a)?e:Ya},equals:function(b){return b.is(a)},
equals_:function(b,c){return b.fold(ja,function(b){return c(a,b)})},toArray:function(){return[a]},toString:function(){return"some("+a+")"}};return e},w={some:va,none:V,from:function(a){return null===a||void 0===a?Ya:va(a)}},Qb=void 0===(Gb=Array.prototype.indexOf)?function(a,b){a:{for(var c=0,d=a.length;c<d;++c)if(a[c]===b){a=c;break a}a=-1}return a}:function(a,b){return Gb.call(a,b)},Rb=function(a,b){return-1<Qb(a,b)},Sb=function(a,b){for(var c=a.length,d=Array(c),e=0;e<c;e++)d[e]=b(a[e],e,a);return d},
Tb=function(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c],c,a)},Ub=function(a,b){for(var c=a.length-1;0<=c;c--)b(a[c],c,a)},Vb=function(a,b){for(var c=[],d=0,e=a.length;d<e;d++){var f=a[d];b(f,d,a)&&c.push(f)}return c},Wb=function(a,b){for(var c=0,d=a.length;c<d;c++)if(b(a[c],c,a))return w.some(c);return w.none()},dd=Array.prototype.push,Xb=function(a){for(var b=[],c=0,d=a.length;c<d;++c){if(!Array.prototype.isPrototypeOf(a[c]))throw Error("Arr.flatten item "+c+" was not an array, input: "+a);dd.apply(b,
a[c])}return b},Yb=function(a,b){for(var c=0,d=a.length;c<d;++c)if(!0!==b(a[c],c,a))return!1;return!0},Zb=Array.prototype.slice,x={map:Sb,each:Tb,eachr:Ub,partition:function(a,b){for(var c=[],d=[],e=0,f=a.length;e<f;e++){var g=a[e];(b(g,e,a)?c:d).push(g)}return{pass:c,fail:d}},filter:Vb,groupBy:function(a,b){if(0===a.length)return[];for(var c=b(a[0]),d=[],e=[],f=0,g=a.length;f<g;f++){var h=a[f],k=b(h);k!==c&&(d.push(e),e=[]);c=k;e.push(h)}return 0!==e.length&&d.push(e),d},indexOf:function(a,b){a=
Qb(a,b);return-1===a?w.none():w.some(a)},foldr:function(a,b,c){return Ub(a,function(a){c=b(c,a)}),c},foldl:function(a,b,c){return Tb(a,function(a){c=b(c,a)}),c},find:function(a,b){for(var c=0,d=a.length;c<d;c++){var e=a[c];if(b(e,c,a))return w.some(e)}return w.none()},findIndex:Wb,flatten:Xb,bind:function(a,b){a=Sb(a,b);return Xb(a)},forall:Yb,exists:function(a,b){return Wb(a,b).isSome()},contains:Rb,equal:function(a,b){return a.length===b.length&&Yb(a,function(a,d){return a===b[d]})},reverse:function(a){a=
Zb.call(a,0);return a.reverse(),a},chunk:function(a,b){for(var c=[],d=0;d<a.length;d+=b){var e=a.slice(d,d+b);c.push(e)}return c},difference:function(a,b){return Vb(a,function(a){return!Rb(b,a)})},mapToObject:function(a,b){for(var c={},d=0,e=a.length;d<e;d++){var f=a[d];c[String(f)]=b(f,d)}return c},pure:function(a){return[a]},sort:function(a,b){a=Zb.call(a,0);return a.sort(b),a},range:function(a,b){for(var c=[],d=0;d<a;d++)c.push(b(d));return c},head:function(a){return 0===a.length?w.none():w.some(a[0])},
last:function(a){return 0===a.length?w.none():w.some(a[a.length-1])}},ed=0,r={id:function(){return"mceu_"+ed++},create:function(a,b,c){var d=document.createElement(a);return v.DOM.setAttribs(d,b),"string"==typeof c?d.innerHTML=c:m.each(c,function(a){a.nodeType&&d.appendChild(a)}),d},createFragment:function(a){return v.DOM.createFragment(a)},getWindowSize:function(){return v.DOM.getViewPort()},getSize:function(a){var b;if(a.getBoundingClientRect){var c=a.getBoundingClientRect();b=Math.max(c.width||
c.right-c.left,a.offsetWidth);a=Math.max(c.height||c.bottom-c.bottom,a.offsetHeight)}else b=a.offsetWidth,a=a.offsetHeight;return{width:b,height:a}},getPos:function(a,b){return v.DOM.getPos(a,b||r.getContainer())},getContainer:function(){return L.container?L.container:document.body},getViewPort:function(a){return v.DOM.getViewPort(a)},get:function(a){return document.getElementById(a)},addClass:function(a,b){return v.DOM.addClass(a,b)},removeClass:function(a,b){return v.DOM.removeClass(a,b)},hasClass:function(a,
b){return v.DOM.hasClass(a,b)},toggleClass:function(a,b,c){return v.DOM.toggleClass(a,b,c)},css:function(a,b,c){return v.DOM.setStyle(a,b,c)},getRuntimeStyle:function(a,b){return v.DOM.getStyle(a,b,!0)},on:function(a,b,c,d){return v.DOM.bind(a,b,c,d)},off:function(a,b,c){return v.DOM.unbind(a,b,c)},fire:function(a,b,c){return v.DOM.fire(a,b,c)},innerHtml:function(a,b){v.DOM.setHTML(a,b)}},p=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),ka=tinymce.util.Tools.resolve("tinymce.util.Class"),pb=tinymce.util.Tools.resolve("tinymce.util.EventDispatcher"),
la=function(a){var b;if(a)return"number"==typeof a?{top:a=a||0,left:a,bottom:a,right:a}:(1===(b=(a=a.split(" ")).length)?a[1]=a[2]=a[3]=a[0]:2===b?(a[2]=a[0],a[3]=a[1]):3===b&&(a[3]=a[1]),{top:parseInt(a[0],10)||0,right:parseInt(a[1],10)||0,bottom:parseInt(a[2],10)||0,left:parseInt(a[3],10)||0})},Za=function(a,b){function c(b){b=parseFloat(function(b){var c=a.ownerDocument.defaultView;return c?(c=c.getComputedStyle(a,null))?(b=b.replace(/[A-Z]/g,function(a){return"-"+a}),c.getPropertyValue(b)):null:
a.currentStyle[b]}(b));return isNaN(b)?0:b}return{top:c(b+"TopWidth"),right:c(b+"RightWidth"),bottom:c(b+"BottomWidth"),left:c(b+"LeftWidth")}};m.extend(B.prototype,{add:function(a){return a&&!this.contains(a)&&(this.cls._map[a]=!0,this.cls.push(a),this._change()),this},remove:function(a){if(this.contains(a)){var b;for(b=0;b<this.cls.length&&this.cls[b]!==a;b++);this.cls.splice(b,1);delete this.cls._map[a];this._change()}return this},toggle:function(a,b){var c=this.contains(a);return c!==b&&(c?this.remove(a):
this.add(a),this._change()),this},contains:function(a){return!!this.cls._map[a]},_change:function(){delete this.clsValue;this.onchange.call(this)}});B.prototype.toString=function(){var a;if(this.clsValue)return this.clsValue;a="";for(var b=0;b<this.cls.length;b++)0<b&&(a+=" "),a+=this.prefix+this.cls[b];return a};var $a,da,wa,fd=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,$b=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,
gd=/^\s*|\s*$/g,ma=ka.extend({init:function(a){function b(a,b,g){function e(a){a&&b.push(a)}var f;return e(function(a){if(a)return a=a.toLowerCase(),function(b){return"*"===a||b.type===a}}((f=fd.exec(a.replace(gd,"")))[1])),e(function(a){if(a)return function(b){return b._name===a}}(f[2])),e(function(a){if(a)return a=a.split("."),function(b){for(var c=a.length;c--;)if(!b.classes.contains(a[c]))return!1;return!0}}(f[3])),e(function(a,b,c){if(a)return function(d){d=d[a]?d[a]():"";return b?"="===b?d===
c:"*="===b?0<=d.indexOf(c):"~="===b?0<=(" "+d+" ").indexOf(" "+c+" "):"!="===b?d!==c:"^="===b?0===d.indexOf(c):"$="===b&&d.substr(d.length-c.length)===c:!!c}}(f[4],f[5],f[6])),e(function(a){var b;if(a)return(a=/(?:not\((.+)\))|(.+)/i.exec(a))[1]?(b=c(a[1],[]),function(a){return!d(a,b)}):(a=a[2],function(b,c,d){return"first"===a?0===c:"last"===a?c===d-1:"even"===a?0==c%2:"odd"===a?1==c%2:!!b[a]&&b[a]()})}(f[7])),b.pseudo=!!f[7],b.direct=g,b}function c(a,d){var e,f,k=[];do if($b.exec(""),(f=$b.exec(a))&&
(a=f[3],k.push(f[1]),f[2])){e=f[3];break}while(f);e&&c(e,d);a=[];for(e=0;e<k.length;e++)">"!==k[e]&&a.push(b(k[e],[],">"===k[e-1]));return d.push(a),d}var d=this.match;this._selectors=c(a,[])},match:function(a,b){var c,d,e,f,g,h,k,l,n,z,u,m;c=0;for(d=(b=b||this._selectors).length;c<d;c++){m=a;u=0;for(e=(f=(g=b[c]).length)-1;0<=e;e--)for(l=g[e];m;){if(l.pseudo)for(n=z=(h=m.parent().items()).length;n--&&h[n]!==m;);h=0;for(k=l.length;h<k;h++)if(!l[h](m,n,z)){h=k+1;break}if(h===k){u++;break}if(e===f-
1)break;m=m.parent()}if(u===f)return!0}return!1},find:function(a){function b(a,c,d){var f,g,h,k,m,q=c[d];f=0;for(g=a.length;f<g;f++){m=a[f];h=0;for(k=q.length;h<k;h++)if(!q[h](m,f,g)){h=k+1;break}if(h===k)d===c.length-1?e.push(m):m.items&&b(m.items(),c,d+1);else if(q.direct)break;m.items&&b(m.items(),c,d)}}var c,d,e=[],f=this._selectors;if(a.items){c=0;for(d=f.length;c<d;c++)b(a.items(),f[c],0);1<d&&(e=function(a){for(var b,c=[],d=a.length;d--;)(b=a[d]).__checked||(c.push(b),b.__checked=1);for(d=
c.length;d--;)delete c[d].__checked;return c}(e))}return $a||($a=ma.Collection),new $a(e)}}),ac=Array.prototype.push,hd=Array.prototype.slice;wa={length:0,init:function(a){a&&this.add(a)},add:function(a){return m.isArray(a)?ac.apply(this,a):a instanceof da?this.add(a.toArray()):ac.call(this,a),this},set:function(a){var b=this.length;this.length=0;this.add(a);for(a=this.length;a<b;a++)delete this[a];return this},filter:function(a){var b,c,d,e,f=[];"string"==typeof a?(a=new ma(a),e=function(b){return a.match(b)}):
e=a;b=0;for(c=this.length;b<c;b++)e(d=this[b])&&f.push(d);return new da(f)},slice:function(){return new da(hd.apply(this,arguments))},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},each:function(a){return m.each(this,a),this},toArray:function(){return m.toArray(this)},indexOf:function(a){for(var b=this.length;b--&&this[b]!==a;);return b},reverse:function(){return new da(m.toArray(this).reverse())},hasClass:function(a){return!!this[0]&&this[0].classes.contains(a)},prop:function(a,b){var c;
return void 0!==b?(this.each(function(c){c[a]&&c[a](b)}),this):(c=this[0])&&c[a]?c[a]():void 0},exec:function(a){var b=m.toArray(arguments).slice(1);return this.each(function(c){c[a]&&c[a].apply(c,b)}),this},remove:function(){for(var a=this.length;a--;)this[a].remove();return this},addClass:function(a){return this.each(function(b){b.classes.add(a)})},removeClass:function(a){return this.each(function(b){b.classes.remove(a)})}};m.each("fire on off show hide append prepend before after reflow".split(" "),
function(a){wa[a]=function(){var b=m.toArray(arguments);return this.each(function(c){a in c&&c[a].apply(c,b)}),this}});m.each("text name disabled active selected checked visible parent value data".split(" "),function(a){wa[a]=function(b){return this.prop(a,b)}});da=ka.extend(wa);var xa=ma.Collection=da,na=function(a){this.create=a.create};na.create=function(a,b){return new na({create:function(c,d){var e,f=function(a){c.set(d,a.value)};return c.on("change:"+d,function(c){a.set(b,c.value)}),a.on("change:"+
b,f),(e=c._bindings)||(e=c._bindings=[],c.on("destroy",function(){for(var a=e.length;a--;)e[a]()})),e.push(function(){a.off("change:"+b,f)}),a.get(b)}})};var id=tinymce.util.Tools.resolve("tinymce.util.Observable"),ab,oa,bc=ka.extend({Mixins:[id],init:function(a){var b,c;for(b in a=a||{})(c=a[b])instanceof na&&(a[b]=c.create(this,b));this.data=a},set:function(a,b){var c,d,e=this.data[a];if(b instanceof na&&(b=b.create(this,a)),"object"==typeof a){for(c in a)this.set(c,a[c]);return this}return function g(a,
b){var c,d;if(a===b)return!0;if(null===a||null===b||"object"!=typeof a||"object"!=typeof b)return a===b;if(m.isArray(b)){if(a.length!==b.length)return!1;for(c=a.length;c--;)if(!g(a[c],b[c]))return!1}if(0<a.nodeType||0<b.nodeType)return a===b;for(c in d={},b){if(!g(a[c],b[c]))return!1;d[c]=!0}for(c in a)if(!d[c]&&!g(a[c],b[c]))return!1;return!0}(e,b)||(this.data[a]=b,d={target:this,name:a,value:b,oldValue:e},this.fire("change:"+a,d),this.fire("change",d)),this},get:function(a){return this.data[a]},
has:function(a){return a in this.data},bind:function(a){return na.create(this,a)},destroy:function(){this.fire("destroy")}}),W={},pa={add:function(a){(a=a.parent())&&a._layout&&!a._layout.isNative()&&(W[a._id]||(W[a._id]=a),ab||(ab=!0,J.requestAnimationFrame(function(){var a,c;for(a in ab=!1,W)(c=W[a]).state.get("rendered")&&c.reflow();W={}},document.body)))},remove:function(a){W[a._id]&&delete W[a._id]}},bb=function(a){return a?a.getRoot().uiContainer:null},ha={getUiContainerDelta:function(a){if((a=
bb(a))&&"static"!==v.DOM.getStyle(a,"position",!0)){var b=v.DOM.getPos(a);return w.some({x:a.scrollLeft-b.x,y:a.scrollTop-b.y})}return w.none()},setUiContainer:function(a,b){a=v.DOM.select(a.settings.ui_container)[0];b.getRoot().uiContainer=a},getUiContainer:bb,inheritUiContainer:function(a,b){return b.uiContainer=bb(a)}},Pc="onmousewheel"in document,jd=0,cc={Statics:{classPrefix:"mce-"},isRtl:function(){return oa.rtl},classPrefix:"mce-",init:function(a){function b(a){var b;a=a.split(" ");for(b=0;b<
a.length;b++)e.classes.add(a[b])}var c,d,e=this;e.settings=a=m.extend({},e.Defaults,a);e._id=a.id||"mceu_"+jd++;e._aria={role:a.role};e._elmCache={};e.$=p;e.state=new bc({visible:!0,active:!1,disabled:!1,value:""});e.data=new bc(a.data);e.classes=new B(function(){e.state.get("rendered")&&(e.getEl().className=this.toString())});e.classes.prefix=e.classPrefix;(c=a.classes)&&(e.Defaults&&(d=e.Defaults.classes)&&c!==d&&b(d),b(c));m.each("title text name visible disabled active value".split(" "),function(b){b in
a&&e[b](a[b])});e.on("click",function(){if(e.disabled())return!1});e.settings=a;e.borderBox=la(a.border);e.paddingBox=la(a.padding);e.marginBox=la(a.margin);a.hidden&&e.hide()},Properties:"parent,name",getContainerElm:function(){return ha.getUiContainer(this)||r.getContainer()},getParentCtrl:function(a){for(var b,c=this.getRoot().controlIdLookup;a&&c&&!(b=c[a.id]);)a=a.parentNode;return b},initLayoutRect:function(){var a,b,c,d,e,f,g,h,k,l=this.settings;e=this.getEl();a=this.borderBox=this.borderBox||
Za(e,"border");this.paddingBox=this.paddingBox||Za(e,"padding");this.marginBox=this.marginBox||Za(e,"margin");c=r.getSize(e);h=l.minWidth;k=l.minHeight;e=h||c.width;f=k||c.height;c=l.width;d=l.height;g=void 0!==(g=l.autoResize)?g:!c&&!d;c=c||e;d=d||f;var n=a.left+a.right;a=a.top+a.bottom;var z=l.maxWidth||65535,u=l.maxHeight||65535;return this._layoutRect=b={x:l.x||0,y:l.y||0,w:c,h:d,deltaW:n,deltaH:a,contentW:c-n,contentH:d-a,innerW:c-n,innerH:d-a,startMinWidth:h||0,startMinHeight:k||0,minW:Math.min(e,
z),minH:Math.min(f,u),maxW:z,maxH:u,autoResize:g,scrollW:0},this._lastLayoutRect={},b},layoutRect:function(a){var b,c,d,e,f,g=this._layoutRect;return g||(g=this.initLayoutRect()),a?(d=g.deltaW,e=g.deltaH,void 0!==a.x&&(g.x=a.x),void 0!==a.y&&(g.y=a.y),void 0!==a.minW&&(g.minW=a.minW),void 0!==a.minH&&(g.minH=a.minH),void 0!==(c=a.w)&&(c=(c=c<g.minW?g.minW:c)>g.maxW?g.maxW:c,g.w=c,g.innerW=c-d),void 0!==(c=a.h)&&(c=(c=c<g.minH?g.minH:c)>g.maxH?g.maxH:c,g.h=c,g.innerH=c-e),void 0!==(c=a.innerW)&&(c=
(c=c<g.minW-d?g.minW-d:c)>g.maxW-d?g.maxW-d:c,g.innerW=c,g.w=c+d),void 0!==(c=a.innerH)&&(c=(c=c<g.minH-e?g.minH-e:c)>g.maxH-e?g.maxH-e:c,g.innerH=c,g.h=c+e),void 0!==a.contentW&&(g.contentW=a.contentW),void 0!==a.contentH&&(g.contentH=a.contentH),(b=this._lastLayoutRect).x===g.x&&b.y===g.y&&b.w===g.w&&b.h===g.h||((f=oa.repaintControls)&&f.map&&!f.map[this._id]&&(f.push(this),f.map[this._id]=!0),b.x=g.x,b.y=g.y,b.w=g.w,b.h=g.h),this):g},repaint:function(){var a,b,c,d,e,f,g,h,k;h=document.createRange?
function(a){return a}:Math.round;a=this.getEl().style;d=this._layoutRect;g=this._lastRepaintRect||{};f=(e=this.borderBox).left+e.right;e=e.top+e.bottom;d.x!==g.x&&(a.left=h(d.x)+"px",g.x=d.x);d.y!==g.y&&(a.top=h(d.y)+"px",g.y=d.y);d.w!==g.w&&(k=h(d.w-f),a.width=(0<=k?k:0)+"px",g.w=d.w);d.h!==g.h&&(k=h(d.h-e),a.height=(0<=k?k:0)+"px",g.h=d.h);this._hasBody&&d.innerW!==g.innerW&&(k=h(d.innerW),(c=this.getEl("body"))&&((b=c.style).width=(0<=k?k:0)+"px"),g.innerW=d.innerW);this._hasBody&&d.innerH!==g.innerH&&
(k=h(d.innerH),(c=c||this.getEl("body"))&&((b=b||c.style).height=(0<=k?k:0)+"px"),g.innerH=d.innerH);this._lastRepaintRect=g;this.fire("repaint",{},!1)},updateLayoutRect:function(){this.parent()._lastRect=null;r.css(this.getEl(),{width:"",height:""});this._layoutRect=this._lastRepaintRect=this._lastLayoutRect=null;this.initLayoutRect()},on:function(a,b){var c,d,e=this;return A(e).on(a,"string"!=typeof b?b:function(a){return c||e.parentsAndSelf().each(function(a){var e=a.settings.callbacks;if(e&&(c=
e[b]))return d=a,!1}),c?c.call(d,a):(a.action=b,void this.fire("execute",a))}),e},off:function(a,b){return A(this).off(a,b),this},fire:function(a,b,c){if((b=b||{}).control||(b.control=this),b=A(this).fire(a,b),!1!==c&&this.parent)for(c=this.parent();c&&!b.isPropagationStopped();)c.fire(a,b,!1),c=c.parent();return b},hasEventListeners:function(a){return A(this).has(a)},parents:function(a){var b,c=new xa;for(b=this.parent();b;b=b.parent())c.add(b);return a&&(c=c.filter(a)),c},parentsAndSelf:function(a){return(new xa(this)).add(this.parents(a))},
next:function(){var a=this.parent().items();return a[a.indexOf(this)+1]},prev:function(){var a=this.parent().items();return a[a.indexOf(this)-1]},innerHtml:function(a){return this.$el.html(a),this},getEl:function(a){a=a?this._id+"-"+a:this._id;return this._elmCache[a]||(this._elmCache[a]=p("#"+a)[0]),this._elmCache[a]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(a){}return this},blur:function(){return this.getEl().blur(),
this},aria:function(a,b){var c=this.getEl(this.ariaTarget);return void 0===b?this._aria[a]:(this._aria[a]=b,this.state.get("rendered")&&c.setAttribute("role"===a?a:"aria-"+a,b),this)},encode:function(a,b){return!1!==b&&(a=this.translate(a)),(a||"").replace(/[&<>"]/g,function(a){return"&#"+a.charCodeAt(0)+";"})},translate:function(a){return oa.translate?oa.translate(a):a},before:function(a){var b=this.parent();return b&&b.insert(a,b.items().indexOf(this),!0),this},after:function(a){var b=this.parent();
return b&&b.insert(a,b.items().indexOf(this)),this},remove:function(){var a,b,c=this,d=c.getEl(),e=c.parent();if(c.items){var f=c.items().toArray();for(b=f.length;b--;)f[b].remove()}e&&e.items&&(a=[],e.items().each(function(b){b!==c&&a.push(b)}),e.items().set(a),e._lastRect=null);c._eventsRoot&&c._eventsRoot===c&&p(d).off();b=c.getRoot().controlIdLookup;return b&&delete b[c._id],d&&d.parentNode&&d.parentNode.removeChild(d),c.state.set("rendered",!1),c.state.destroy(),c.fire("remove"),c},renderBefore:function(a){return p(a).before(this.renderHtml()),
this.postRender(),this},renderTo:function(a){return p(a||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var a,b,c,d,e,f=this,g=f.settings;for(d in f.$el=p(f.getEl()),f.state.set("rendered",!0),g)0===d.indexOf("on")&&f.on(d.substr(2),g[d]);if(f._eventsRoot){for(c=f.parent();!e&&c;c=c.parent())e=c._eventsRoot;if(e)for(d in e._nativeEvents)f._nativeEvents[d]=
!0}C(f);g.style&&(a=f.getEl())&&(a.setAttribute("style",g.style),a.style.cssText=g.style);f.settings.border&&(b=f.borderBox,f.$el.css({"border-top-width":b.top,"border-right-width":b.right,"border-bottom-width":b.bottom,"border-left-width":b.left}));a=f.getRoot();for(var h in a.controlIdLookup||(a.controlIdLookup={}),a.controlIdLookup[f._id]=f,f._aria)f.aria(h,f._aria[h]);!1===f.state.get("visible")&&(f.getEl().style.display="none");f.bindStates();f.state.on("change:visible",function(a){var b;a=a.value;
f.state.get("rendered")&&(f.getEl().style.display=!1===a?"none":"",f.getEl().getBoundingClientRect());(b=f.parent())&&(b._lastRect=null);f.fire(a?"show":"hide");pa.add(f)});f.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(a){var b,c,d,e,f,g,h=this.getEl(),k=h.parentNode,l,n,z=h;for(l=n=0;z&&z!==k&&z.nodeType;)l+=z.offsetLeft||0,n+=z.offsetTop||0,z=z.offsetParent;return b=l,c=n,d=h.offsetWidth,e=h.offsetHeight,f=k.clientWidth,g=k.clientHeight,"end"===a?(b-=f-d,c-=g-e):"center"===
a&&(b-=f/2-d/2,c-=g/2-e/2),k.scrollLeft=b,k.scrollTop=c,this},getRoot:function(){for(var a,b=this,c=[];b;){if(b.rootControl){a=b.rootControl;break}c.push(b);a=b;b=b.parent()}a||(a=this);for(b=c.length;b--;)c[b].rootControl=a;return a},reflow:function(){pa.remove(this);var a=this.parent();return a&&a._layout&&!a._layout.isNative()&&a.reflow(),this}};m.each("text title visible disabled active value".split(" "),function(a){cc[a]=function(b){return 0===arguments.length?this.state.get(a):(void 0!==b&&
this.state.set(a,b),this)}});var F=oa=ka.extend(cc),sa=function(a){return a.state.get("fixed")},qb=function(){return{x:0,y:0,w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.defaultView.innerWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.defaultView.innerHeight)}},dc=function(a){var b=ha.getUiContainer(a);return b&&!sa(a)?{x:0,y:0,w:b.scrollWidth-1,h:b.scrollHeight-1}:qb()},ya={testMoveRel:function(a,b){for(var c=dc(this),
d=0;d<b.length;d++){var e=D(this,a,b[d]);if(sa(this)){if(0<e.x&&e.x+e.w<c.w&&0<e.y&&e.y+e.h<c.h)return b[d]}else if(e.x>c.x&&e.x+e.w<c.w+c.x&&e.y>c.y&&e.y+e.h<c.h+c.y)return b[d]}return b[0]},moveRel:function(a,b){"string"!=typeof b&&(b=this.testMoveRel(a,b));a=D(this,a,b);return this.moveTo(a.x,a.y)},moveBy:function(a,b){var c=this.layoutRect();return this.moveTo(c.x+a,c.y+b),this},moveTo:function(a,b){function c(a,b,c){return 0>a?0:a+c>b&&0>(a=b-c)?0:a}if(this.settings.constrainToViewport){var d=
dc(this),e=this.layoutRect();a=c(a,d.w+d.x,e.w);b=c(b,d.h+d.y,e.h)}d=ha.getUiContainer(this);return d&&"static"===r.getRuntimeStyle(d,"position")&&!sa(this)&&(a-=d.scrollLeft,b-=d.scrollTop),d&&(a+=1,b+=1),this.state.get("rendered")?this.layoutRect({x:a,y:b}).repaint():(this.settings.x=a,this.settings.y=b),this.fire("move",{x:a,y:b}),this}},ec=F.extend({Mixins:[ya],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var a=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+
'" role="presentation"><div class="'+a+'tooltip-arrow"></div><div class="'+a+'tooltip-inner">'+this.encode(this.state.get("text"))+"</div></div>"},bindStates:function(){var a=this;return a.state.on("change:text",function(b){a.getEl().lastChild.innerHTML=a.encode(b.value)}),a._super()},repaint:function(){var a,b;a=this.getEl().style;b=this._layoutRect;a.left=b.x+"px";a.top=b.y+"px";a.zIndex=131070}}),y=F.extend({init:function(a){var b=this;b._super(a);a=b.settings;b.canFocus=!0;a.tooltip&&!1!==y.tooltips&&
(b.on("mouseenter",function(c){var d=b.tooltip().moveTo(-65535);c.control===b?(c=d.text(a.tooltip).show().testMoveRel(b.getEl(),["bc-tc","bc-tl","bc-tr"]),d.classes.toggle("tooltip-n","bc-tc"===c),d.classes.toggle("tooltip-nw","bc-tl"===c),d.classes.toggle("tooltip-ne","bc-tr"===c),d.moveRel(b.getEl(),c)):d.hide()}),b.on("mouseleave mousedown click",function(){b.tooltip().remove();b._tooltip=null}));b.aria("label",a.ariaLabel||a.tooltip)},tooltip:function(){return this._tooltip||(this._tooltip=new ec({type:"tooltip"}),
ha.inheritUiContainer(this,this._tooltip),this._tooltip.renderTo()),this._tooltip},postRender:function(){var a=this.settings;this._super();this.parent()||!a.width&&!a.height||(this.initLayoutRect(),this.repaint());a.autofocus&&this.focus()},bindStates:function(){function a(a){c.aria("disabled",a);c.classes.toggle("disabled",a)}function b(a){c.aria("pressed",a);c.classes.toggle("active",a)}var c=this;return c.state.on("change:disabled",function(b){a(b.value)}),c.state.on("change:active",function(a){b(a.value)}),
c.state.get("disabled")&&a(!0),c.state.get("active")&&b(!0),c._super()},remove:function(){this._super();this._tooltip&&(this._tooltip.remove(),this._tooltip=null)}}),fc=y.extend({Defaults:{value:0},init:function(a){this._super(a);this.classes.add("progress");this.settings.filter||(this.settings.filter=function(a){return Math.round(a)})},renderHtml:function(){var a=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div class="'+a+'bar-container"><div class="'+a+'bar"></div></div><div class="'+
a+'text">0%</div></div>'},postRender:function(){return this._super(),this.value(this.settings.value),this},bindStates:function(){function a(a){a=b.settings.filter(a);b.getEl().lastChild.innerHTML=a+"%";b.getEl().firstChild.firstChild.style.width=a+"%"}var b=this;return b.state.on("change:value",function(b){a(b.value)}),a(b.state.get("value")),b._super()}}),cb=function(a,b){a.getEl().lastChild.textContent=b+(a.progressBar?" "+a.progressBar.value()+"%":"")},rb=F.extend({Mixins:[ya],Defaults:{classes:"widget notification"},
init:function(a){var b=this;b._super(a);b.maxWidth=a.maxWidth;a.text&&b.text(a.text);a.icon&&(b.icon=a.icon);a.color&&(b.color=a.color);a.type&&b.classes.add("notification-"+a.type);a.timeout&&(0>a.timeout||0<a.timeout)&&!a.closeButton?b.closeButton=!1:(b.classes.add("has-close"),b.closeButton=!0);a.progressBar&&(b.progressBar=new fc);b.on("click",function(a){-1!==a.target.className.indexOf(b.classPrefix+"close")&&b.close()})},renderHtml:function(){var a,b=this.classPrefix,c="",d="",e="";return this.icon&&
(c='<i class="'+b+"ico "+b+"i-"+this.icon+'"></i>'),a=' style="max-width: '+this.maxWidth+"px;"+(this.color?"background-color: "+this.color+';"':'"'),this.closeButton&&(d='<button type="button" class="'+b+'close" aria-hidden="true">\u00d7</button>'),this.progressBar&&(e=this.progressBar.renderHtml()),'<div id="'+this._id+'" class="'+this.classes+'"'+a+' role="presentation">'+c+'<div class="'+b+'notification-inner">'+this.state.get("text")+"</div>"+e+d+'<div style="clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;" aria-live="assertive" aria-relevant="additions" aria-atomic="true"></div></div>'},
postRender:function(){var a=this;return J.setTimeout(function(){a.$el.addClass(a.classPrefix+"in");cb(a,a.state.get("text"))},100),a._super()},bindStates:function(){var a=this;return a.state.on("change:text",function(b){a.getEl().firstChild.innerHTML=b.value;cb(a,b.value)}),a.progressBar&&(a.progressBar.bindStates(),a.progressBar.state.on("change:value",function(b){cb(a,a.state.get("text"))})),a._super()},close:function(){return this.fire("close").isDefaultPrevented()||this.remove(),this},repaint:function(){var a,
b;a=this.getEl().style;b=this._layoutRect;a.left=b.x+"px";a.top=b.y+"px";a.zIndex=65534}}),I=tinymce.util.Tools.resolve("tinymce.ui.Factory"),Ka,db,eb,Ma,gc={},ea=F.extend({init:function(a){var b=this;b._super(a);(a=b.settings).fixed&&b.state.set("fixed",!0);b._items=new xa;b.isRtl()&&b.classes.add("rtl");b.bodyClasses=new B(function(){b.state.get("rendered")&&(b.getEl("body").className=this.toString())});b.bodyClasses.prefix=b.classPrefix;b.classes.add("container");b.bodyClasses.add("container-body");
a.containerCls&&b.classes.add(a.containerCls);b._layout=I.create((a.layout||"")+"layout");b.settings.items?b.add(b.settings.items):b.add(b.render());b._hasBody=!0},items:function(){return this._items},find:function(a){return(gc[a]=gc[a]||new ma(a)).find(this)},add:function(a){return this.items().add(this.create(a)).parent(this),this},focus:function(a){var b,c,d;if(!a||!(c=this.keyboardNav||this.parents().eq(-1)[0].keyboardNav))return d=this.find("*"),this.statusbar&&d.add(this.statusbar.items()),
d.each(function(a){if(a.settings.autofocus)return b=null,!1;a.canFocus&&(b=b||a)}),b&&b.focus(),this;c.focusFirst(this)},replace:function(a,b){for(var c,d=this.items(),e=d.length;e--;)if(d[e]===a){d[e]=b;break}0<=e&&((c=b.getEl())&&c.parentNode.removeChild(c),(c=a.getEl())&&c.parentNode.removeChild(c));b.parent(this)},create:function(a){var b,c=this,d=[];return m.isArray(a)||(a=[a]),m.each(a,function(a){a&&(a instanceof F||("string"==typeof a&&(a={type:a}),b=m.extend({},c.settings.defaults,a),a.type=
b.type=b.type||a.type||c.settings.defaultType||(b.defaults?b.defaults.type:null),a=I.create(b)),d.push(a))}),d},renderNew:function(){var a=this;return a.items().each(function(b,c){var d;b.parent(a);b.state.get("rendered")||((d=a.getEl("body")).hasChildNodes()&&c<=d.childNodes.length-1?p(d.childNodes[c]).before(b.renderHtml()):p(d).append(b.renderHtml()),b.postRender(),pa.add(b))}),a._layout.applyClasses(a.items().filter(":visible")),a._lastRect=null,a},append:function(a){return this.add(a).renderNew()},
prepend:function(a){return this.items().set(this.create(a).concat(this.items().toArray())),this.renderNew()},insert:function(a,b,c){var d,e,f;return a=this.create(a),d=this.items(),!c&&b<d.length-1&&(b+=1),0<=b&&b<d.length&&(e=d.slice(0,b).toArray(),f=d.slice(b).toArray(),d.set(e.concat(a,f))),this.renderNew()},fromJSON:function(a){for(var b in a)this.find("#"+b).value(a[b]);return this},toJSON:function(){var a={};return this.find("*").each(function(b){var c=b.name();b=b.value();c&&void 0!==b&&(a[c]=
b)}),a},renderHtml:function(){var a=this._layout,b=this.settings.role;return this.preRender(),a.preRender(this),'<div id="'+this._id+'" class="'+this.classes+'"'+(b?' role="'+this.settings.role+'"':"")+'><div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+a.renderHtml(this)+"</div></div>"},postRender:function(){var a;return this.items().exec("postRender"),this._super(),this._layout.postRender(this),this.state.set("rendered",!0),this.settings.style&&this.$el.css(this.settings.style),
this.settings.border&&(a=this.borderBox,this.$el.css({"border-top-width":a.top,"border-right-width":a.right,"border-bottom-width":a.bottom,"border-left-width":a.left})),this.parent()||(this.keyboardNav=sb({root:this})),this},initLayoutRect:function(){var a=this._super();return this._layout.recalc(this),a},recalc:function(){var a=this._layoutRect,b=this._lastRect;if(!b||b.w!==a.w||b.h!==a.h)return this._layout.recalc(this),a=this.layoutRect(),this._lastRect={x:a.x,y:a.y,w:a.w,h:a.h},!0},reflow:function(){var a;
if(pa.remove(this),this.visible()){F.repaintControls=[];F.repaintControls.map={};this.recalc();for(a=F.repaintControls.length;a--;)F.repaintControls[a].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint();F.repaintControls=[]}return this}}),hc={init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){function a(){function a(a,c,f,l,n,z){var g,h,k;if(g=b.getEl("scroll"+a)){if(h=c.toLowerCase(),k=f.toLowerCase(),p(b.getEl("absend")).css(h,b.layoutRect()[l]-
1),!n)return void p(g).css("display","none");p(g).css("display","block");l=b.getEl("body");a=b.getEl("scroll"+a+"t");n=l["client"+f]-4;f=(n-=d&&e?g["client"+z]:0)/l["scroll"+f];(z={})[h]=l["offset"+c]+2;z[k]=n;p(g).css(z);(z={})[h]=l["scroll"+c]*f;z[k]=n*f;p(a).css(z)}}var d,e,f;f=b.getEl("body");d=f.scrollWidth>f.clientWidth;e=f.scrollHeight>f.clientHeight;a("h","Left","Width","contentW",d,"Height");a("v","Top","Height","contentH",e,"Width")}var b=this;b.settings.autoScroll&&(b._hasScroll||(b._hasScroll=
!0,function(){function a(a,c,f,g,h){var d,e=b._id+"-scroll"+a,n=b.classPrefix;p(b.getEl()).append('<div id="'+e+'" class="'+n+"scrollbar "+n+"scrollbar-"+a+'"><div id="'+e+'t" class="'+n+'scrollbar-thumb"></div></div>');b.draghelper=new T(e+"t",{start:function(){d=b.getEl("body")["scroll"+c];p("#"+e).addClass(n+"active")},drag:function(e){var k,l;l=b.layoutRect();k=l.contentW>l.innerW;l=l.contentH>l.innerH;k=(b.getEl("body")["client"+f]-4-(k&&l?b.getEl("scroll"+a)["client"+h]:0))/b.getEl("body")["scroll"+
f];b.getEl("body")["scroll"+c]=d+e["delta"+g]/k},stop:function(){p("#"+e).removeClass(n+"active")}})}b.classes.add("scroll");a("v","Top","Height","Y","Width");a("h","Left","Width","X","Height")}(),b.on("wheel",function(c){var d=b.getEl("body");d.scrollLeft+=10*(c.deltaX||0);d.scrollTop+=10*c.deltaY;a()}),p(b.getEl("body")).on("scroll",a)),a())}},za=ea.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[hc],renderHtml:function(){var a=this._layout,b=this.settings.html;return this.preRender(),
a.preRender(this),void 0===b?b='<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+a.renderHtml(this)+"</div>":("function"==typeof b&&(b=b.call(this)),this._hasBody=!1),'<div id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1" role="group">'+(this._preBodyHtml||"")+b+"</div>"}}),ic={resizeToContent:function(){this._layoutRect.autoResize=!0;this._lastRect=null;this.reflow()},resizeTo:function(a,b){if(1>=a||1>=b){var c=r.getWindowSize();a=1>=a?a*c.w:a;b=1>=b?b*c.h:b}return this._layoutRect.autoResize=
!1,this.layoutRect({minW:a,minH:b,w:a,h:b}).reflow()},resizeBy:function(a,b){var c=this.layoutRect();return this.resizeTo(c.w+a,c.h+b)}},E=[],H=[],M=za.extend({Mixins:[ya,ic],init:function(a){var b=this;b._super(a);b._eventsRoot=b;b.classes.add("floatpanel");a.autohide&&(Rc(),function(){if(!eb){var a=document.documentElement,b=a.clientWidth,e=a.clientHeight;eb=function(){document.all&&b===a.clientWidth&&e===a.clientHeight||(b=a.clientWidth,e=a.clientHeight,M.hideAll())};p(window).on("resize",eb)}}(),
E.push(b));a.autofix&&(db||(db=function(){var a;for(a=E.length;a--;)tb(E[a])},p(window).on("scroll",db)),b.on("move",function(){tb(this)}));b.on("postrender show",function(a){if(a.control===b){var c,e=b.classPrefix;b.modal&&!Ma&&((c=p("#"+e+"modal-block",b.getContainerElm()))[0]||(c=p('<div id="'+e+'modal-block" class="'+e+"reset "+e+'fade"></div>').appendTo(b.getContainerElm())),J.setTimeout(function(){c.addClass(e+"in");p(b.getEl()).addClass(e+"in")}),Ma=!0);La(!0,b)}});b.on("show",function(){b.parents().each(function(a){if(a.state.get("fixed"))return b.fixed(!0),
!1})});a.popover&&(b._preBodyHtml='<div class="'+b.classPrefix+'arrow"></div>',b.classes.add("popover").add("bottom").add(b.isRtl()?"end":"start"));b.aria("label",a.ariaLabel);b.aria("labelledby",b._id);b.aria("describedby",b.describedBy||b._id+"-none")},fixed:function(a){if(this.state.get("fixed")!==a){if(this.state.get("rendered")){var b=r.getViewPort();a?this.layoutRect().y-=b.y:this.layoutRect().y+=b.y}this.classes.toggle("fixed",a);this.state.set("fixed",a)}return this},show:function(){var a,
b=this._super();for(a=E.length;a--&&E[a]!==this;);return-1===a&&E.push(this),b},hide:function(){return ub(this),La(!1,this),this._super()},hideAll:function(){M.hideAll()},close:function(){return this.fire("close").isDefaultPrevented()||(this.remove(),La(!1,this)),this},remove:function(){ub(this);this._super()},postRender:function(){return this.settings.bodyRole&&this.getEl("body").setAttribute("role",this.settings.bodyRole),this._super()}});M.hideAll=function(){for(var a=E.length;a--;){var b=E[a];
b&&b.settings.autohide&&(b.hide(),E.splice(a,1))}};var K=[],Na="",Aa=M.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(a){var b=this;b._super(a);b.isRtl()&&b.classes.add("rtl");b.classes.add("window");b.bodyClasses.add("window-body");b.state.set("fixed",!0);a.buttons&&(b.statusbar=new za({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",
pack:b.isRtl()?"start":"end",defaults:{type:"button"},items:a.buttons}),b.statusbar.classes.add("foot"),b.statusbar.parent(b));b.on("click",function(a){var c=b.classPrefix+"close";(r.hasClass(a.target,c)||r.hasClass(a.target.parentNode,c))&&b.close()});b.on("cancel",function(){b.close()});b.aria("describedby",b.describedBy||b._id+"-none");b.aria("label",a.title);b._fullscreen=!1},recalc:function(){var a,b,c,d,e=this.statusbar;this._fullscreen&&(this.layoutRect(r.getWindowSize()),this.layoutRect().contentH=
this.layoutRect().innerH);this._super();a=this.layoutRect();this.settings.title&&!this._fullscreen&&(b=a.headerW)>a.w&&(c=a.x-Math.max(0,b/2),this.layoutRect({w:b,x:c}),d=!0);e&&(e.layoutRect({w:this.layoutRect().innerW}).recalc(),(b=e.layoutRect().minW+a.deltaW)>a.w&&(c=a.x-Math.max(0,b-a.w),this.layoutRect({w:b,x:c}),d=!0));d&&this.recalc()},initLayoutRect:function(){var a,b=this._super(),c=0;this.settings.title&&!this._fullscreen&&(a=this.getEl("head"),a=r.getSize(a),b.headerW=a.width,b.headerH=
a.height,c+=b.headerH);this.statusbar&&(c+=this.statusbar.layoutRect().h);b.deltaH+=c;b.minH+=c;b.h+=c;c=r.getWindowSize();return b.x=this.settings.x||Math.max(0,c.w/2-b.w/2),b.y=this.settings.y||Math.max(0,c.h/2-b.h/2),b},renderHtml:function(){var a=this._layout,b=this._id,c=this.classPrefix,d=this.settings,e="",f="",g=d.html;return this.preRender(),a.preRender(this),d.title&&(e='<div id="'+b+'-head" class="'+c+'window-head"><div id="'+b+'-title" class="'+c+'title">'+this.encode(d.title)+'</div><div id="'+
b+'-dragh" class="'+c+'dragh"></div><button type="button" class="'+c+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),d.url&&(g='<iframe src="'+d.url+'" tabindex="-1"></iframe>'),void 0===g&&(g=a.renderHtml(this)),this.statusbar&&(f=this.statusbar.renderHtml()),'<div id="'+b+'" class="'+this.classes+'" hidefocus="1"><div class="'+this.classPrefix+'reset" role="application">'+e+'<div id="'+b+'-body" class="'+this.bodyClasses+'">'+g+"</div>"+f+"</div></div>"},fullscreen:function(a){var b,
c,d=this,e=document.documentElement,f=d.classPrefix;a!==d._fullscreen&&((p(window).on("resize",function(){var a;if(d._fullscreen)if(b)d._timer||(d._timer=J.setTimeout(function(){var a=r.getWindowSize();d.moveTo(0,0).resizeTo(a.w,a.h);d._timer=0},50));else{a=(new Date).getTime();var c=r.getWindowSize();d.moveTo(0,0).resizeTo(c.w,c.h);50<(new Date).getTime()-a&&(b=!0)}}),c=d.layoutRect(),d._fullscreen=a,a)?(d._initial={x:c.x,y:c.y,w:c.w,h:c.h},d.borderBox=la("0"),d.getEl("head").style.display="none",
c.deltaH-=c.headerH+2,p([e,document.body]).addClass(f+"fullscreen"),d.classes.add("fullscreen"),a=r.getWindowSize(),d.moveTo(0,0).resizeTo(a.w,a.h)):(d.borderBox=la(d.settings.border),d.getEl("head").style.display="",c.deltaH+=c.headerH,p([e,document.body]).removeClass(f+"fullscreen"),d.classes.remove("fullscreen"),d.moveTo(d._initial.x,d._initial.y).resizeTo(d._initial.w,d._initial.h)));return d.reflow()},postRender:function(){var a,b,c=this;setTimeout(function(){c.classes.add("in");c.fire("open")},
0);c._super();c.statusbar&&c.statusbar.postRender();c.focus();this.dragHelper=new T(c._id+"-dragh",{start:function(){a=c.layoutRect().x;b=c.layoutRect().y},drag:function(d){c.moveTo(a+d.deltaX,b+d.deltaY)}});c.on("submit",function(a){a.isDefaultPrevented()||c.close()});K.push(c);vb(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var a;this.dragHelper.destroy();this._super();this.statusbar&&this.statusbar.remove();a=this.classPrefix;var b;a:{for(b=0;b<K.length;b++)if(K[b]._fullscreen){b=
!0;break a}b=!1}b&&p([document.documentElement,document.body]).removeClass(a+"fullscreen");for(a=K.length;a--;)K[a]===this&&K.splice(a,1);vb(0<K.length)},getContentWindow:function(){var a=this.getEl().getElementsByTagName("iframe")[0];return a?a.contentWindow:null}});!function(){if(!L.desktop){var a={w:window.innerWidth,h:window.innerHeight};J.setInterval(function(){var b=window.innerWidth,c=window.innerHeight;a.w===b&&a.h===c||(a={w:b,h:c},p(window).trigger("resize"))},100)}p(window).on("resize",
function(){var a,c,d=r.getWindowSize();for(a=0;a<K.length;a++)c=K[a].layoutRect(),K[a].moveTo(K[a].settings.x||Math.max(0,d.w/2-c.w/2),K[a].settings.y||Math.max(0,d.h/2-c.h/2))})}();var O=Aa.extend({init:function(a){a={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}};this._super(a)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(a){function b(a,
b,c){return{type:"button",text:a,subtype:c?"primary":"",onClick:function(a){a.control.parents()[1].close();d(b)}}}var c,d=a.callback||function(){};switch(a.buttons){case O.OK_CANCEL:c=[b("Ok",!0,!0),b("Cancel",!1)];break;case O.YES_NO:case O.YES_NO_CANCEL:c=[b("Yes",1,!0),b("No",0)];a.buttons===O.YES_NO_CANCEL&&c.push(b("Cancel",-1));break;default:c=[b("Ok",!0,!0)]}return(new Aa({padding:20,x:a.x,y:a.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:c,title:a.title,role:"alertdialog",
items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:a.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:a.onClose,onCancel:function(){d(!1)}})).renderTo(document.body).reflow()},alert:function(a,b){return"string"==typeof a&&(a={text:a}),a.callback=b,O.msgBox(a)},confirm:function(a,b){return"string"==typeof a&&(a={text:a}),a.callback=b,a.buttons=O.OK_CANCEL,O.msgBox(a)}}}),kd=function(a,b){return{renderUI:function(){var c;if(a.inline)c=cd(a,b);else throw Error("inlite theme only supports inline mode.");
return c},getNotificationManagerImpl:function(){return ra(a)},getWindowManagerImpl:function(){return{open:function(a,b,e){var c;return a.title=a.title||" ",a.url=a.url||a.file,a.url&&(a.width=parseInt(a.width||320,10),a.height=parseInt(a.height||240,10)),a.body&&(a.items={defaults:a.defaults,type:a.bodyType||"form",items:a.body,data:a.data,callbacks:a.commands}),a.url||a.buttons||(a.buttons=[{text:"Ok",subtype:"primary",onclick:function(){c.find("form")[0].submit()}},{text:"Cancel",onclick:function(){c.close()}}]),
(c=new Aa(a)).on("close",function(){e(c)}),a.data&&c.on("postRender",function(){this.find("*").each(function(b){var c=b.name();c in a.data&&b.value(a.data[c])})}),c.features=a||{},c.params=b||{},c=c.renderTo(document.body).reflow()},alert:function(a,b,e){var c;return(c=O.alert(a,function(){b()})).on("close",function(){e(c)}),c},confirm:function(a,b,e){var c;return(c=O.confirm(a,function(a){b(a)})).on("close",function(){e(c)}),c},close:function(a){a.close()},getParams:function(a){return a.params},
setParams:function(a,b){a.params=b}}}}},ld="undefined"!=typeof window?window:Function("return this;")(),md={getOrDie:function(a,b){var c;c=a.split(".");b=void 0!==b&&null!==b?b:ld;for(var d=0;d<c.length&&void 0!==b&&null!==b;++d)b=b[c[d]];c=b;if(void 0===c||null===c)throw a+" not available on this browser";return c}},Ba=tinymce.util.Tools.resolve("tinymce.util.Promise"),nd=function(a){return new Ba(function(b){var c=new function(){return new (md.getOrDie("FileReader"))};c.onloadend=function(){b(c.result.split(",")[1])};
c.readAsDataURL(a)})},od=function(){return new Ba(function(a){var b;(b=document.createElement("input")).type="file";b.style.position="fixed";b.style.left=0;b.style.top=0;b.style.opacity=.001;document.body.appendChild(b);b.onchange=function(b){a(Array.prototype.slice.call(b.target.files))};b.click();b.parentNode.removeChild(b)})},pd=0,qd=function(a){return a+pd++ +(b=function(){return Math.round(4294967295*Math.random()).toString(36)},"s"+Date.now().toString(36)+b()+b()+b());var b},rd=function(a,b){function c(c){var e,
g,h;g=b[c?"startContainer":"endContainer"];h=b[c?"startOffset":"endOffset"];1===g.nodeType&&(e=a.create("span",{"data-mce-type":"bookmark"}),g.hasChildNodes()?(h=Math.min(h,g.childNodes.length-1),c?g.insertBefore(e,g.childNodes[h]):a.insertAfter(e,g.childNodes[h])):g.appendChild(e),g=e,h=0);d[c?"startContainer":"endContainer"]=g;d[c?"startOffset":"endOffset"]=h}var d={};return c(!0),b.collapsed||c(),d},sd=function(a,b){function c(c){var d,e,h;d=h=b[c?"startContainer":"endContainer"];e=b[c?"startOffset":
"endOffset"];if(d){if(1===d.nodeType){a:{e=d;for(var k=e.parentNode.firstChild,l=0;k;){if(k===e){e=l;break a}1===k.nodeType&&"bookmark"===k.getAttribute("data-mce-type")||l++;k=k.nextSibling}e=-1}d=d.parentNode;a.remove(h)}b[c?"startContainer":"endContainer"]=d;b[c?"startOffset":"endOffset"]=e}}c(!0);c();var d=a.createRng();return d.setStart(b.startContainer,b.startOffset),b.endContainer&&d.setEnd(b.endContainer,b.endOffset),d},td=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),jc=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),
kc=function(a){return"A"===a.nodeName&&a.hasAttribute("href")},ud=function(a){var b,c,d,e,f,g,h;return e=a.selection,f=a.dom,g=e.getRng(),h=jc.getNode(g.startContainer,g.startOffset),b=f.getParent(h,kc)||h,c=jc.getNode(g.endContainer,g.endOffset),d=a.getBody(),m.grep(function(a,b,c){var d=[];for(a=new td(b,a);b&&(1===b.nodeType&&d.push(b),b!==c);b=a.next());return d}(d,b,c),kc)},lc=function(a){var b,c,d,e;b=ud(a);d=a.dom;e=a.selection;c=rd(d,e.getRng());m.each(b,function(b){a.dom.remove(b,!0)});e.setRng(sd(d,
c))},vd=function(a,b,c){a.undoManager.transact(function(){var d;a.insertContent(function(a,b){var c,d,e;e='<table data-mce-id="mce" style="width: 100%"><tbody>';for(d=0;d<b;d++){e+="<tr>";for(c=0;c<a;c++)e+="<td><br></td>";e+="</tr>"}return e+="</tbody>",e+"</table>"}(b,c));(d=a.dom.select("*[data-mce-id]")[0]).removeAttribute("data-mce-id");d=a.dom.select("td,th",d);a.selection.setCursorLocation(d[0],0)})},wd=function(a,b){a.addButton("quicklink",{icon:"link",tooltip:"Insert/Edit link",stateSelector:"a[href]",
onclick:function(){b.showForm(a,"quicklink")}});a.addButton("quickimage",{icon:"image",tooltip:"Insert image",onclick:function(){od().then(function(b){var c=b[0];nd(c).then(function(b){var d;b=(d=a.editorUpload.blobCache).create(qd("mceu"),c,b);d.add(b);a.insertContent(a.dom.createHTML("img",{src:b.blobUri()}))})})}});a.addButton("quicktable",{icon:"table",tooltip:"Insert table",onclick:function(){b.hide();vd(a,2,2)}});(function(a){for(var b=function(b){return function(){a.execCommand("FormatBlock",
!1,b)}},c=1;6>c;c++){var f="h"+c;a.addButton(f,{text:f.toUpperCase(),tooltip:"Heading "+c,stateSelector:f,onclick:b(f),onPostRender:function(){this.getEl().firstChild.firstChild.style.fontWeight="bold"}})}})(a)},Uc={getUiContainerDelta:function(){var a=L.container;if(a&&"static"!==v.DOM.getStyle(a,"position",!0)){var b=v.DOM.getPos(a);return w.some({x:b.x-a.scrollLeft,y:b.y-a.scrollTop})}return w.none()}},xd=function(a,b){return!/^https?:\/\//.test(b.trim())&&/^www\.|\.(com|org|edu|gov|uk|net|ca|de|jp|fr|au|us|ru|ch|it|nl|se|no|es|mil)$/i.test(b.trim())?
(c=a,d=b,new Ba(function(a){c.windowManager.confirm("The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(b){a(!0===b?"http://"+d:d)})})):Ba.resolve(b);var c,d},Tc={createQuickLinkForm:function(a,b){var c,d,e={};return c={items:[{type:"button",name:"unlink",icon:"unlink",onclick:function(){a.focus();a.focus();lc(a);a.selection.collapse(!1);b()},tooltip:"Remove link"},{type:"filepicker",name:"linkurl",placeholder:"Paste or type a link",filetype:"file",
onchange:function(a){(a=a.meta)&&a.attach&&(e={href:this.value(),attach:a.attach})}},{type:"button",icon:"checkmark",subtype:"primary",tooltip:"Ok",onclick:"submit"}],onshow:function(b){if(b.control===this){var c;b="";(c=a.dom.getParent(a.selection.getStart(),"a[href]"))&&(b=a.dom.getAttrib(c,"href"));this.fromJSON({linkurl:b});b=this.find("#unlink");c?b.show():b.hide();this.find("#linkurl")[0].focus()}},onsubmit:function(c){xd(a,c.data.linkurl).then(function(c){a.undoManager.transact(function(){c===
e.href&&(e.attach(),e={});if(0===c.trim().length)a.focus(),lc(a);else{var b=a.dom.getParent(a.selection.getStart(),"a[href]");b?(a.focus(),a.dom.setAttrib(b,"href",c)):a.execCommand("mceInsertLink",!1,{href:c})}a.selection.collapse(!1)});b()})}},(d=I.create(m.extend({type:"form",layout:"flex",direction:"row",padding:5,name:"quicklink",spacing:3},c))).on("show",function(){d.find("textbox").eq(0).each(function(a){a.focus()})}),d}},Oa={create:function(a,b,c){var d,e=[];if(c)return m.each(N.isArray(c)?
c:N.isString(c)?c.split(/[ ,]/):[],function(b){var c,f;"|"===b?d=null:a.buttons[b]&&(d||(d={type:"buttongroup",items:[]},e.push(d)),c=b,"function"==typeof(b=a.buttons[c])&&(b=b()),b.type=b.type||"button",(b=I.create(b)).on("postRender",(f=b,function(){var b,c=(b=function(a,b){return{selector:a,handler:b}},f.settings.stateSelector?b(f.settings.stateSelector,function(a){f.active(a)}):f.settings.disabledStateSelector?b(f.settings.disabledStateSelector,function(a){f.disabled(a)}):null);null!==c&&a.selection.selectorChanged(c.selector,
c.handler)})),d.items.push(b))}),I.create({type:"toolbar",layout:"flow",name:b,items:e})}},fb=ka.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(a){this.settings=m.extend({},this.Defaults,a)},preRender:function(a){a.bodyClasses.add(this.settings.containerClass)},applyClasses:function(a){var b,c,d,e,f=this.settings;b=f.firstControlClass;c=f.lastControlClass;a.each(function(a){a.classes.remove(b).remove(c).add(f.controlClass);a.visible()&&(d||(d=a),e=a)});d&&d.classes.add(b);
e&&e.classes.add(c)},renderHtml:function(a){var b="";return this.applyClasses(a.items()),a.items().each(function(a){b+=a.renderHtml()}),b},recalc:function(){},postRender:function(){},isNative:function(){return!1}}),Ca=fb.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(a){a.items().filter(":visible").each(function(a){var b=a.settings;a.layoutRect({x:b.x,y:b.y,w:b.w,h:b.h});a.recalc&&a.recalc()})},renderHtml:function(a){return'<div id="'+a._id+'-absend" class="'+
a.classPrefix+'abs-end"></div>'+this._super(a)}}),Da=y.extend({Defaults:{classes:"widget btn",role:"button"},init:function(a){var b,c=this;c._super(a);a=c.settings;b=c.settings.size;c.on("click mousedown",function(a){a.preventDefault()});c.on("touchstart",function(a){c.fire("click",a);a.preventDefault()});a.subtype&&c.classes.add(a.subtype);b&&c.classes.add("btn-"+b);a.icon&&c.icon(a.icon)},icon:function(a){return arguments.length?(this.state.set("icon",a),this):this.state.get("icon")},repaint:function(){var a,
b=this.getEl().firstChild;b&&((a=b.style).width=a.height="100%");this._super()},renderHtml:function(){var a,b,c=this._id,d=this.classPrefix,e=this.state.get("icon"),f=this.state.get("text"),g="",h=this.settings;return(a=h.image)?(e="none","string"!=typeof a&&(a=window.getSelection?a[0]:a[1]),a=" style=\"background-image: url('"+a+"')\""):a="",f&&(this.classes.add("btn-has-text"),g='<span class="'+d+'txt">'+this.encode(f)+"</span>"),e=e?d+"ico "+d+"i-"+e:"",b="boolean"==typeof h.active?' aria-pressed="'+
h.active+'"':"",'<div id="'+c+'" class="'+this.classes+'" tabindex="-1"'+b+'><button id="'+c+'-button" role="presentation" type="button" tabindex="-1">'+(e?'<i class="'+e+'"'+a+"></i>":"")+g+"</button></div>"},bindStates:function(){function a(a){var e=c("span."+d,b.getEl());a?(e[0]||(c("button:first",b.getEl()).append('<span class="'+d+'"></span>'),e=c("span."+d,b.getEl())),e.html(b.encode(a))):e.remove();b.classes.toggle("btn-has-text",!!a)}var b=this,c=b.$,d=b.classPrefix+"txt";return b.state.on("change:text",
function(b){a(b.value)}),b.state.on("change:icon",function(c){c=c.value;var d=b.classPrefix;c=(b.settings.icon=c)?d+"ico "+d+"i-"+b.settings.icon:"";var d=b.getEl().firstChild,e=d.getElementsByTagName("i")[0];c?(e&&e===d.firstChild||(e=document.createElement("i"),d.insertBefore(e,d.firstChild)),e.className=c):e&&d.removeChild(e);a(b.state.get("text"))}),b._super()}}),yd=Da.extend({init:function(a){a=m.extend({text:"Browse...",multiple:!1,accept:null},a);this._super(a);this.classes.add("browsebutton");
a.multiple&&this.classes.add("multiple")},postRender:function(){var a=this,b=r.create("input",{type:"file",id:a._id+"-browse",accept:a.settings.accept});a._super();p(b).on("change",function(b){var c=b.target.files;a.value=function(){return c.length?a.settings.multiple?c:c[0]:null};b.preventDefault();c.length&&a.fire("change",b)});p(b).on("click",function(a){a.stopPropagation()});p(a.getEl("button")).on("click",function(a){a.stopPropagation();b.click()});a.getEl().appendChild(b)},remove:function(){p(this.getEl("button")).off();
p(this.getEl("input")).off();this._super()}}),zd=ea.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var a=this._layout;return this.classes.add("btn-group"),this.preRender(),a.preRender(this),'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+(this.settings.html||"")+a.renderHtml(this)+"</div></div>"}}),mc=y.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(a){var b=this;b._super(a);b.on("click mousedown",function(a){a.preventDefault()});
b.on("click",function(a){a.preventDefault();b.disabled()||b.checked(!b.checked())});b.checked(b.settings.checked)},checked:function(a){return arguments.length?(this.state.set("checked",a),this):this.state.get("checked")},value:function(a){return arguments.length?this.checked(a):this.checked()},renderHtml:function(){var a=this._id,b=this.classPrefix;return'<div id="'+a+'" class="'+this.classes+'" unselectable="on" aria-labelledby="'+a+'-al" tabindex="-1"><i class="'+b+"ico "+b+'i-checkbox"></i><span id="'+
a+'-al" class="'+b+'label">'+this.encode(this.state.get("text"))+"</span></div>"},bindStates:function(){function a(a){b.classes.toggle("checked",a);b.aria("checked",a)}var b=this;return b.state.on("change:text",function(a){b.getEl("al").firstChild.data=b.translate(a.value)}),b.state.on("change:checked change:value",function(c){b.fire("change");a(c.value)}),b.state.on("change:icon",function(a){a=a.value;var c=b.classPrefix;if(void 0===a)return b.settings.icon;a=(b.settings.icon=a)?c+"ico "+c+"i-"+
b.settings.icon:"";var c=b.getEl().firstChild,e=c.getElementsByTagName("i")[0];a?(e&&e===c.firstChild||(e=document.createElement("i"),c.insertBefore(e,c.firstChild)),e.className=a):e&&c.removeChild(e)}),b.state.get("checked")&&a(!0),b._super()}}),nc=tinymce.util.Tools.resolve("tinymce.util.VK"),gb=y.extend({init:function(a){var b=this;b._super(a);a=b.settings;b.classes.add("combobox");b.subinput=!0;b.ariaTarget="inp";a.menu=a.menu||a.values;a.menu&&(a.icon="caret");b.on("click",function(c){var d=
c.target,e=b.getEl();if(p.contains(e,d)||d===e)for(;d&&d!==e;)d.id&&-1!==d.id.indexOf("-open")&&(b.fire("action"),a.menu&&(b.showMenu(),c.aria&&b.menu.items()[0].focus())),d=d.parentNode});b.on("keydown",function(a){var c;13===a.keyCode&&"INPUT"===a.target.nodeName&&(a.preventDefault(),b.parents().reverse().each(function(a){if(a.toJSON)return c=a,!1}),b.fire("submit",{data:c.toJSON()}))});b.on("keyup",function(a){if("INPUT"===a.target.nodeName){var c=b.state.get("value"),e=a.target.value;e!==c&&(b.state.set("value",
e),b.fire("autocomplete",a))}});b.on("mouseover",function(a){var c=b.tooltip().moveTo(-65535);if(b.statusLevel()&&-1!==a.target.className.indexOf(b.classPrefix+"status")){var e=b.statusMessage()||"Ok",e=c.text(e).show().testMoveRel(a.target,["bc-tc","bc-tl","bc-tr"]);c.classes.toggle("tooltip-n","bc-tc"===e);c.classes.toggle("tooltip-nw","bc-tl"===e);c.classes.toggle("tooltip-ne","bc-tr"===e);c.moveRel(a.target,e)}})},statusLevel:function(a){return 0<arguments.length&&this.state.set("statusLevel",
a),this.state.get("statusLevel")},statusMessage:function(a){return 0<arguments.length&&this.state.set("statusMessage",a),this.state.get("statusMessage")},showMenu:function(){var a,b=this,c=b.settings;b.menu||((a=c.menu||[]).length?a={type:"menu",items:a}:a.type=a.type||"menu",b.menu=I.create(a).parent(b).renderTo(b.getContainerElm()),b.fire("createmenu"),b.menu.reflow(),b.menu.on("cancel",function(a){a.control===b.menu&&b.focus()}),b.menu.on("show hide",function(a){a.control.items().each(function(a){a.active(a.value()===
b.value())})}).fire("show"),b.menu.on("select",function(a){b.value(a.control.value())}),b.on("focusin",function(a){"INPUT"===a.target.tagName.toUpperCase()&&b.menu.hide()}),b.aria("expanded",!0));b.menu.show();b.menu.layoutRect({w:b.layoutRect().w});b.menu.moveRel(b.getEl(),b.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var a,b,c=this.getEl();a=this.getEl("open");var d=this.layoutRect(),e=0,c=c.firstChild;this.statusLevel()&&"none"!==
this.statusLevel()&&(e=parseInt(r.getRuntimeStyle(c,"padding-right"),10)-parseInt(r.getRuntimeStyle(c,"padding-left"),10));a=a?d.w-r.getSize(a).width-10:d.w-10;d=document;return d.all&&(!d.documentMode||8>=d.documentMode)&&(b=this.layoutRect().h-2+"px"),p(c).css({width:a-e,lineHeight:b}),this._super(),this},postRender:function(){var a=this;return p(this.getEl("inp")).on("change",function(b){a.state.set("value",b.target.value);a.fire("change",b)}),a._super()},renderHtml:function(){var a,b,c,d=this._id,
e=this.settings,f=this.classPrefix,g=this.state.get("value")||"",h="",k="";return"spellcheck"in e&&(k+=' spellcheck="'+e.spellcheck+'"'),e.maxLength&&(k+=' maxlength="'+e.maxLength+'"'),e.size&&(k+=' size="'+e.size+'"'),e.subtype&&(k+=' type="'+e.subtype+'"'),c='<i id="'+d+'-status" class="mce-status mce-ico" style="display: none"></i>',this.disabled()&&(k+=' disabled="disabled"'),(a=e.icon)&&"caret"!==a&&(a=f+"ico "+f+"i-"+e.icon),b=this.state.get("text"),(a||b)&&(h='<div id="'+d+'-open" class="'+
f+"btn "+f+'open" tabIndex="-1" role="button"><button id="'+d+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!==a?'<i class="'+a+'"></i>':'<i class="'+f+'caret"></i>')+(b?(a?" ":"")+b:"")+"</button></div>",this.classes.add("has-open")),'<div id="'+d+'" class="'+this.classes+'"><input id="'+d+'-inp" class="'+f+'textbox" value="'+this.encode(g,!1)+'" hidefocus="1"'+k+' placeholder="'+this.encode(e.placeholder)+'" />'+c+h+"</div>"},value:function(a){return arguments.length?(this.state.set("value",
a),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(a,b){var c=this;0!==a.length?(c.menu?c.menu.items().remove():c.menu=I.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(c).renderTo(),m.each(a,function(a){var d,f;c.menu.add({text:a.title,url:a.previewUrl,match:b,classes:"menu-item-ellipsis",onclick:(d=a.value,f=a.title,function(){c.fire("selectitem",{title:f,value:d})})})}),c.menu.renderNew(),
c.hideMenu(),c.menu.on("cancel",function(a){a.control.parent()===c.menu&&(a.stopPropagation(),c.focus(),c.hideMenu())}),c.menu.on("select",function(){c.focus()}),a=c.layoutRect().w,c.menu.layoutRect({w:a,minW:0,maxW:a}),c.menu.repaint(),c.menu.reflow(),c.menu.show(),c.menu.moveRel(c.getEl(),c.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])):c.hideMenu()},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var a=this;a.state.on("change:value",function(b){a.getEl("inp").value!==b.value&&
(a.getEl("inp").value=b.value)});a.state.on("change:disabled",function(b){a.getEl("inp").disabled=b.value});a.state.on("change:statusLevel",function(b){var c=a.getEl("status"),e=a.classPrefix;b=b.value;r.css(c,"display","none"===b?"none":"");r.toggleClass(c,e+"i-checkmark","ok"===b);r.toggleClass(c,e+"i-warning","warn"===b);r.toggleClass(c,e+"i-error","error"===b);a.classes.toggle("has-status","none"!==b);a.repaint()});r.on(a.getEl("status"),"mouseleave",function(){a.tooltip().hide()});a.on("cancel",
function(b){a.menu&&a.menu.visible()&&(b.stopPropagation(),a.hideMenu())});var b=function(a,b){b&&0<b.items().length&&b.items().eq(a)[0].focus()};return a.on("keydown",function(c){var d=c.keyCode;"INPUT"===c.target.nodeName&&(d===nc.DOWN?(c.preventDefault(),a.fire("autocomplete"),b(0,a.menu)):d===nc.UP&&(c.preventDefault(),b(-1,a.menu)))}),a._super()},remove:function(){p(this.getEl("inp")).off();this.menu&&this.menu.remove();this._super()}}),Ad=gb.extend({init:function(a){var b=this;a.spellcheck=
!1;a.onaction&&(a.icon="none");b._super(a);b.classes.add("colorbox");b.on("change keyup postrender",function(){b.repaintColor(b.value())})},repaintColor:function(a){var b=this.getEl("open");if(b=b?b.getElementsByTagName("i")[0]:null)try{b.style.background=a}catch(c){}},bindStates:function(){var a=this;return a.state.on("change:value",function(b){a.state.get("rendered")&&a.repaintColor(b.value)}),a._super()}}),oc=Da.extend({showPanel:function(){var a=this,b=a.settings;if(a.classes.add("opened"),a.panel)a.panel.show();
else{var c=b.panel;c.type&&(c={layout:"grid",items:c});c.role=c.role||"dialog";c.popover=!0;c.autohide=!0;c.ariaRoot=!0;a.panel=(new M(c)).on("hide",function(){a.classes.remove("opened")}).on("cancel",function(b){b.stopPropagation();a.focus();a.hidePanel()}).parent(a).renderTo(a.getContainerElm());a.panel.fire("show");a.panel.reflow()}b=a.panel.testMoveRel(a.getEl(),b.popoverAlign||(a.isRtl()?["bc-tc","bc-tl","bc-tr"]:["bc-tc","bc-tr","bc-tl"]));a.panel.classes.toggle("start","bc-tl"===b);a.panel.classes.toggle("end",
"bc-tr"===b);a.panel.moveRel(a.getEl(),b)},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var a=this;return a.aria("haspopup",!0),a.on("click",function(b){b.control===a&&(a.panel&&a.panel.visible()?a.hidePanel():(a.showPanel(),a.panel.focus(!!b.aria)))}),a._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}}),Bd=v.DOM,Cd=oc.extend({init:function(a){this._super(a);this.classes.add("splitbtn");this.classes.add("colorbutton")},
color:function(a){return a?(this._color=a,this.getEl("preview").style.backgroundColor=a,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var a=this._id,b=this.classPrefix,c=this.state.get("text"),d=this.settings.icon?b+"ico "+b+"i-"+this.settings.icon:"",e=this.settings.image?" style=\"background-image: url('"+this.settings.image+"')\"":"",f="";return c&&(this.classes.add("btn-has-text"),f='<span class="'+
b+'txt">'+this.encode(c)+"</span>"),'<div id="'+a+'" class="'+this.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(d?'<i class="'+d+'"'+e+"></i>":"")+'<span id="'+a+'-preview" class="'+b+'preview"></span>'+f+'</button><button type="button" class="'+b+'open" hidefocus="1" tabindex="-1"> <i class="'+b+'caret"></i></button></div>'},postRender:function(){var a=this,b=a.settings.onclick;return a.on("click",function(c){c.aria&&
"down"===c.aria.key||c.control!==a||Bd.getParent(c.target,"."+a.classPrefix+"open")||(c.stopImmediatePropagation(),b.call(a,c))}),delete a.settings.onclick,a._super()}}),pc=tinymce.util.Tools.resolve("tinymce.util.Color"),Dd=y.extend({Defaults:{classes:"widget colorpicker"},init:function(a){this._super(a)},postRender:function(){function a(a,b){var c,d,e=r.getPos(a);return c=b.pageX-e.x,d=b.pageY-e.y,{x:Math.max(0,Math.min(c/a.clientWidth,1)),y:Math.max(0,Math.min(d/a.clientHeight,1))}}function b(a,
b){r.css(g,{top:(360-a.h)/360*100+"%"});b||r.css(k,{left:a.s+"%",top:100-a.v+"%"});h.style.background=pc({s:100,v:100,h:a.h}).toHex();l.color().parse({s:a.s,v:a.v,h:a.h})}function c(c){c=a(h,c);e.s=100*c.x;e.v=100*(1-c.y);b(e);l.fire("change")}function d(c){c=a(f,c);(e=n.toHsv()).h=360*(1-c.y);b(e,!0);l.fire("change")}var e,f,g,h,k,l=this,n=l.color();f=l.getEl("h");g=l.getEl("hp");h=l.getEl("sv");k=l.getEl("svp");l._repaint=function(){b(e=n.toHsv())};l._super();l._svdraghelper=new T(l._id+"-sv",{start:c,
drag:c});l._hdraghelper=new T(l._id+"-h",{start:d,drag:d});l._repaint()},rgb:function(){return this.color().toRgb()},value:function(a){if(!arguments.length)return this.color().toHex();this.color().parse(a);this._rendered&&this._repaint()},color:function(){return this._color||(this._color=pc()),this._color},renderHtml:function(){var a,b=this._id,c=this.classPrefix,d,e,f,g="";d=0;for(e=(f="#ff0000 #ff0080 #ff00ff #8000ff #0000ff #0080ff #00ffff #00ff80 #00ff00 #80ff00 #ffff00 #ff8000 #ff0000".split(" ")).length-
1;d<e;d++)g+='<div class="'+c+'colorpicker-h-chunk" style="height:'+100/e+"%;filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+f[d]+",endColorstr="+f[d+1]+");-ms-filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+f[d]+",endColorstr="+f[d+1]+')"></div>';return a='<div id="'+b+'-h" class="'+c+'colorpicker-h" style="background: -ms-linear-gradient(top,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);background: linear-gradient(to bottom,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);">'+
g+'<div id="'+b+'-hp" class="'+c+'colorpicker-h-marker"></div></div>','<div id="'+b+'" class="'+this.classes+'"><div id="'+b+'-sv" class="'+c+'colorpicker-sv"><div class="'+c+'colorpicker-overlay1"><div class="'+c+'colorpicker-overlay2"><div id="'+b+'-svp" class="'+c+'colorpicker-selector1"><div class="'+c+'colorpicker-selector2"></div></div></div></div></div>'+a+"</div>"}}),Ed=y.extend({init:function(a){a=m.extend({height:100,text:"Drop an image here",multiple:!1,accept:null},a);this._super(a);this.classes.add("dropzone");
a.multiple&&this.classes.add("multiple")},renderHtml:function(){var a,b,c=this.settings;return a={id:this._id,hidefocus:"1"},b=r.create("div",a,"<span>"+this.translate(c.text)+"</span>"),c.height&&r.css(b,"height",c.height+"px"),c.width&&r.css(b,"width",c.width+"px"),b.className=this.classes,b.outerHTML},postRender:function(){var a=this,b=function(b){b.preventDefault();a.classes.toggle("dragenter");a.getEl().className=a.classes};a._super();a.$el.on("dragover",function(a){a.preventDefault()});a.$el.on("dragenter",
b);a.$el.on("dragleave",b);a.$el.on("drop",function(b){if(b.preventDefault(),!a.state.get("disabled")){var c=function(b){var c=a.settings.accept;if("string"!=typeof c)return b;var d=new RegExp("("+c.split(/\s*,\s*/).join("|")+")$","i");return m.grep(b,function(a){return d.test(a.name)})}(b.dataTransfer.files);a.value=function(){return c.length?a.settings.multiple?c:c[0]:null};c.length&&a.fire("change",b)}})},remove:function(){this.$el.off();this._super()}}),qc=y.extend({init:function(a){var b=this;
a.delimiter||(a.delimiter="\u00bb");b._super(a);b.classes.add("path");b.canFocus=!0;b.on("click",function(a){var c;(c=a.target.getAttribute("data-index"))&&b.fire("select",{value:b.row()[c],index:c})});b.row(b.settings.row)},focus:function(){return this.getEl().firstChild.focus(),this},row:function(a){return arguments.length?(this.state.set("row",a),this):this.state.get("row")},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'">'+this._getDataPathHtml(this.state.get("row"))+
"</div>"},bindStates:function(){var a=this;return a.state.on("change:row",function(b){a.innerHtml(a._getDataPathHtml(b.value))}),a._super()},_getDataPathHtml:function(a){var b,c=a||[],d="",e=this.classPrefix;a=0;for(b=c.length;a<b;a++)d+=(0<a?'<div class="'+e+'divider" aria-hidden="true"> '+this.settings.delimiter+" </div>":"")+'<div role="button" class="'+e+"path-item"+(a===b-1?" "+e+"last":"")+'" data-index="'+a+'" tabindex="-1" id="'+this._id+"-"+a+'" aria-level="'+(a+1)+'">'+c[a].name+"</div>";
return d||(d='<div class="'+e+'path-item">\u00a0</div>'),d}}),Fd=qc.extend({postRender:function(){var a=this,b=a.settings.editor;return!1!==b.settings.elementpath&&(a.on("select",function(a){b.focus();b.selection.select(this.row()[a.index].element);b.nodeChanged()}),b.on("nodeChange",function(c){var d=[];c=c.parents;for(var e=c.length;e--;){var f;if(f=1===c[e].nodeType){a:{f=c[e];if(1===f.nodeType){if("BR"===f.nodeName||f.getAttribute("data-mce-bogus")){f=!0;break a}if("bookmark"===f.getAttribute("data-mce-type")){f=
!0;break a}}f=!1}f=!f}if(f&&(f=b.fire("ResolveName",{name:c[e].nodeName.toLowerCase(),target:c[e]}),f.isDefaultPrevented()||d.push({name:f.name,element:c[e]}),f.isPropagationStopped()))break}a.row(d)})),a._super()}}),rc=ea.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var a=this._layout,b=this.classPrefix;return this.classes.add("formitem"),a.preRender(this),'<div id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1">'+(this.settings.title?
'<div id="'+this._id+'-title" class="'+b+'title">'+this.settings.title+"</div>":"")+'<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+a.renderHtml(this)+"</div></div>"}}),sc=ea.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:15,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var a=this,b=a.items();a.settings.formItemDefaults||(a.settings.formItemDefaults={layout:"flex",
autoResize:"overflow",defaults:{flex:1}});b.each(function(b){var c,e=b.settings.label;e&&((c=new rc(m.extend({items:{type:"label",id:b._id+"-l",text:e,flex:0,forId:b._id,disabled:b.disabled()}},a.settings.formItemDefaults))).type="formitem",b.aria("labelledby",b._id+"-l"),"undefined"==typeof b.settings.flex&&(b.settings.flex=1),a.replace(b,c),c.add(b))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){this._super();this.fromJSON(this.settings.data)},bindStates:function(){function a(){var a,
d,e=0,f=[];if(!1!==b.settings.labelGapCalc)for(("children"===b.settings.labelGapCalc?b.find("formitem"):b.items()).filter("formitem").each(function(a){a=a.items()[0];var b=a.getEl().clientWidth;e=b>e?b:e;f.push(a)}),d=b.settings.labelGap||0,a=f.length;a--;)f[a].settings.minWidth=e+d}var b=this;b._super();b.on("show",a);a()}}),Gd=sc.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var a=
this._layout,b=this.classPrefix;return this.preRender(),a.preRender(this),'<fieldset id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1">'+(this.settings.title?'<legend id="'+this._id+'-title" class="'+b+'fieldset-title">'+this.settings.title+"</legend>":"")+'<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+a.renderHtml(this)+"</div></fieldset>"}}),Hd=0,Id=function(a){var b=(new Date).getTime();return a+"_"+Math.floor(1E9*Math.random())+ ++Hd+
String(b)},qa=function(a){if(null===a||void 0===a)throw Error("Node cannot be null or undefined");return{dom:t.constant(a)}},X={fromHtml:function(a,b){b=(b||document).createElement("div");if(b.innerHTML=a,!b.hasChildNodes()||1<b.childNodes.length)throw console.error("HTML does not have a single root node",a),"HTML must have a single root node";return qa(b.childNodes[0])},fromTag:function(a,b){a=(b||document).createElement(a);return qa(a)},fromText:function(a,b){a=(b||document).createTextNode(a);return qa(a)},
fromDom:qa,fromPoint:function(a,b,c){return w.from(a.dom().elementFromPoint(b,c)).map(qa)}},tc=function(a){var b,c=!1;return function(){return c||(c=!0,b=a.apply(null,arguments)),b}},hb=function(a){return function(b){return b.dom().nodeType===a}},Jd=hb(1);hb(3);hb(9);var Kd=(tc(function(){return Kd(X.fromDom(document))}),function(a){a=a.dom().body;if(null===a||void 0===a)throw"Body is not available yet";return X.fromDom(a)}),R=function(a){return function(b){if(null===b)b="null";else{var c=typeof b;
b="object"===c&&Array.prototype.isPrototypeOf(b)?"array":"object"===c&&String.prototype.isPrototypeOf(b)?"string":c}return b===a}},uc={isString:R("string"),isObject:R("object"),isArray:R("array"),isNull:R("null"),isBoolean:R("boolean"),isUndefined:R("undefined"),isFunction:R("function"),isNumber:R("number")},vc=function(){return ib(0,0)},ib=function(a,b){return{major:a,minor:b}},Ea={nu:ib,detect:function(a,b){b=String(b).toLowerCase();if(0===a.length)a=vc();else{a:{for(var c=0;c<a.length;c++){var d=
a[c];if(d.test(b)){a=d;break a}}a=void 0}a=a?ib(Number(b.replace(a,"$1")),Number(b.replace(a,"$2"))):{major:0,minor:0}}return a},unknown:vc},fa=function(a,b){return function(){return b===a}},wc=function(a){var b=a.current;return{current:b,version:a.version,isEdge:fa("Edge",b),isChrome:fa("Chrome",b),isIE:fa("IE",b),isOpera:fa("Opera",b),isFirefox:fa("Firefox",b),isSafari:fa("Safari",b)}},Ld=function(){return wc({current:void 0,version:Ea.unknown()})};t.constant("Edge");t.constant("Chrome");t.constant("IE");
t.constant("Opera");t.constant("Firefox");t.constant("Safari");var Y=function(a,b){return function(){return b===a}},xc=function(a){var b=a.current;return{current:b,version:a.version,isWindows:Y("Windows",b),isiOS:Y("iOS",b),isAndroid:Y("Android",b),isOSX:Y("OSX",b),isLinux:Y("Linux",b),isSolaris:Y("Solaris",b),isFreeBSD:Y("FreeBSD",b)}},Md=function(){return xc({current:void 0,version:Ea.unknown()})};t.constant("Windows");t.constant("iOS");t.constant("Android");t.constant("Linux");t.constant("OSX");
t.constant("Solaris");t.constant("FreeBSD");var yc=function(a,b){var c=String(b).toLowerCase();return x.find(a,function(a){return a.search(c)})},Nd=function(a,b){return yc(a,b).map(function(a){var c=Ea.detect(a.versionRegexes,b);return{current:a.name,version:c}})},Od=function(a,b){return yc(a,b).map(function(a){var c=Ea.detect(a.versionRegexes,b);return{current:a.name,version:c}})},G=function(a,b){return-1!==a.indexOf(b)},jb=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,S=function(a){return function(b){return G(b,
a)}},Pd=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(a){return G(a,"edge/")&&G(a,"chrome")&&G(a,"safari")&&G(a,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,jb],search:function(a){return G(a,"chrome")&&!G(a,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(a){return G(a,"msie")||G(a,"trident")}},{name:"Opera",versionRegexes:[jb,/.*?opera\/([0-9]+)\.([0-9]+).*/],
search:S("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:S("firefox")},{name:"Safari",versionRegexes:[jb,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(a){return(G(a,"safari")||G(a,"mobile/"))&&G(a,"applewebkit")}}],Qd=[{name:"Windows",search:S("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(a){return G(a,"iphone")||G(a,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,
/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:S("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:S("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:S("linux"),versionRegexes:[]},{name:"Solaris",search:S("sunos"),versionRegexes:[]},{name:"FreeBSD",search:S("freebsd"),versionRegexes:[]}],zc={browsers:t.constant(Pd),oses:t.constant(Qd)},Ac={all:function(a,b){b=void 0===b?document:b.dom();return 1!==b.nodeType&&9!==b.nodeType||
0===b.childElementCount?[]:x.map(b.querySelectorAll(a),X.fromDom)},is:function(a,b){a=a.dom();if(1!==a.nodeType)return!1;if(void 0!==a.matches)return a.matches(b);if(void 0!==a.msMatchesSelector)return a.msMatchesSelector(b);if(void 0!==a.webkitMatchesSelector)return a.webkitMatchesSelector(b);if(void 0!==a.mozMatchesSelector)return a.mozMatchesSelector(b);throw Error("Browser lacks native selectors");},one:function(a,b){b=void 0===b?document:b.dom();return 1!==b.nodeType&&9!==b.nodeType||0===b.childElementCount?
w.none():w.from(b.querySelector(a)).map(X.fromDom)}},Rd=(tc(function(){var a=navigator.userAgent,b,c,d,e,f,g,h,k,l=zc.browsers(),n=zc.oses(),l=Nd(l,a).fold(Ld,wc),n=Od(n,a).fold(Md,xc);return{browser:l,os:n,deviceType:(b=n.isiOS()&&!0===/ipad/i.test(a),c=n.isiOS()&&!b,d=n.isAndroid()&&3===n.version.major,e=n.isAndroid()&&4===n.version.major,f=b||d||e&&!0===/mobile/i.test(a),g=n.isiOS()||n.isAndroid(),h=g&&!f,k=l.isSafari()&&n.isiOS()&&!1===/safari/i.test(a),{isiPad:t.constant(b),isiPhone:t.constant(c),
isTablet:t.constant(f),isPhone:t.constant(h),isTouch:t.constant(g),isAndroid:n.isAndroid,isiOS:n.isiOS,isWebView:t.constant(k)})}})().browser.isIE(),function(){var a=arguments;return function(){for(var b=Array(arguments.length),c=0;c<b.length;c++)b[c]=arguments[c];if(a.length!==b.length)throw Error('Wrong number of arguments to struct. Expected "['+a.length+']", got '+b.length+" arguments");var d={};return x.each(a,function(a,c){d[a]=t.constant(b[c])}),d}}("element","offset"),function(a,b){return Ac.all(b,
a)}),Sd=m.trim,Bc=function(a){return function(b){return!b||1!==b.nodeType||b.contentEditable!==a&&b.getAttribute("data-mce-contenteditable")!==a?!1:!0}},Td=Bc("true"),Ud=Bc("false"),Cc=function(a,b,c,d,e){return{type:a,title:b,url:c,level:d,attach:e}},Vd=function(a){return(b=a)&&"A"===b.nodeName&&(b.id||b.name)&&Dc(a);var b},Dc=function(a){var b;a:{for(b=a;b=b.parentNode;){var c=b.contentEditable;if(c&&"inherit"!==c){b=Td(b);break a}}b=!1}return b&&!Ud(a)},Wd=function(a){return a&&/^(H[1-6])$/.test(a.nodeName)&&
Dc(a)},Xd=function(a){var b=a.id?a.id:Id("h");return Cc("header",a.innerText||a.textContent,"#"+b,a&&/^(H[1-6])$/.test(a.nodeName)?parseInt(a.nodeName.substr(1),10):0,function(){a.id=b})},Yd=function(a){var b=a.id||a.name;return Cc("anchor",a.innerText||a.textContent||"#"+b,"#"+b,0,t.noop)},Zd=function(a){return x.map(Rd(X.fromDom(a),"h1,h2,h3,h4,h5,h6,a:not([href])"),function(a){return a.dom()})},$d=function(a){return 0<Sd(a.title).length},ga={},ae=function(a){return{title:a.title,value:{title:{raw:a.title},
url:a.url,attach:a.attach}}},Ec=function(a,b){return{title:a,value:{title:a,url:b,attach:t.noop}}},Fc=function(a,b,c){a=b in a?a[b]:c;return!1===a?null:a},be=function(a,b,c,d){var e,f,g,h,k={title:"-"},l=function(a){a=a.hasOwnProperty(c)?a[c]:[];a=x.filter(a,function(a){return c=a,d=b,!x.exists(d,function(a){return a.url===c});var c,d});return m.map(a,function(a){return{title:a,value:{title:a,url:a,attach:t.noop}}})},n=function(a){var c;return c=x.filter(b,function(b){return b.type===a}),m.map(c,
ae)};return!1===d.typeahead_urls?[]:"file"===c?(e=[Fa(a,l(ga)),Fa(a,n("header")),Fa(a,(f=n("anchor"),g=Fc(d,"anchor_top","#top"),h=Fc(d,"anchor_bottom","#bottom"),null!==g&&f.unshift(Ec("<top>",g)),null!==h&&f.push(Ec("<bottom>",h)),f))],x.foldl(e,function(a,b){return 0===a.length||0===b.length?a.concat(b):a.concat(k,b)},[])):Fa(a,l(ga))},Fa=function(a,b){var c=a.toLowerCase();b=m.grep(b,function(a){return-1!==a.title.toLowerCase().indexOf(c)});return 1===b.length&&b[0].title===a?[]:b},ce=function(a,
b,c,d){var e=function(e){var f;f=Zd(c);f=x.filter(x.map(x.filter(f,Wd),Xd).concat(x.map(x.filter(f,Vd),Yd)),$d);f=be(e,f,d,b);a.showAutoComplete(f,e)};a.on("autocomplete",function(){e(a.value())});a.on("selectitem",function(b){b=b.value;a.value(b.url);var c,e=(c=b.title).raw?c.raw:c;"image"===d?a.fire("change",{meta:{alt:e,attach:b.attach}}):a.fire("change",{meta:{text:e,attach:b.attach}});a.focus()});a.on("click",function(b){0===a.value().length&&"INPUT"===b.target.nodeName&&e("")});a.on("PostRender",
function(){a.getRoot().on("submit",function(b){var c,e;b.isDefaultPrevented()||(c=a.value(),e=ga[d],/^https?/.test(c)&&(e?-1===x.indexOf(e,c)&&(ga[d]=e.slice(0,5).concat(c)):ga[d]=[c]))})})},de=function(a,b,c){var d=b.filepicker_validator_handler;d&&a.state.on("change:value",function(b){var e;0!==(e=b.value).length?d({url:e,type:c},function(b){var c,d;b=(c=b.status,d=b.message,"valid"===c?{status:"ok",message:d}:"unknown"===c?{status:"warn",message:d}:"invalid"===c?{status:"warn",message:d}:{status:"none",
message:""});a.statusMessage(b.message);a.statusLevel(b.status)}):a.statusLevel("none")})},ee=gb.extend({Statics:{clearHistory:function(){ga={}}},init:function(a){var b,c,d,e=this,f=window.tinymce?window.tinymce.activeEditor:Sa.activeEditor,g=f.settings,h=a.filetype;a.spellcheck=!1;(d=g.file_picker_types||g.file_browser_callback_types)&&(d=m.makeMap(d,/[, ]/));d&&!d[h]||(!(c=g.file_picker_callback)||d&&!d[h]?!(c=g.file_browser_callback)||d&&!d[h]||(b=function(){c(e.getEl("inp").id,e.value(),h,window)}):
b=function(){var a=e.fire("beforecall").meta,a=m.extend({filetype:h},a);c.call(f,function(a,b){e.value(a).fire("change",{meta:b})},e.value(),a)});b&&(a.icon="browse",a.onaction=b);e._super(a);e.classes.add("filepicker");ce(e,g,f.getBody(),h);de(e,g,h)}}),fe=Ca.extend({recalc:function(a){var b=a.layoutRect(),c=a.paddingBox;a.items().filter(":visible").each(function(a){a.layoutRect({x:c.left,y:c.top,w:b.innerW-c.right-c.left,h:b.innerH-c.top-c.bottom});a.recalc&&a.recalc()})}}),ge=Ca.extend({recalc:function(a){var b,
c,d,e,f,g,h,k,l,n,m,u,q,p,r,t,v,A,w,B,x,y,C,E,D,F,G,H,I,J,K,L,M=[],N=Math.max,O=Math.min;d=a.items().filter(":visible");e=a.layoutRect();f=a.paddingBox;g=a.settings;b=a.isRtl()?g.direction||"row-reversed":g.direction;h=g.align;k=a.isRtl()?g.pack||"end":g.pack;g=g.spacing||0;"row-reversed"!==b&&"column-reverse"!==b||(d=d.set(d.toArray().reverse()),b=b.split("-")[0]);"column"===b?(B="y",A="h",w="minH",t="maxH",y="innerH",x="top",C="deltaH",E="contentH",I="left",G="w",D="x",F="innerW",H="minW",J="right",
K="deltaW",L="contentW"):(B="x",A="w",w="minW",t="maxW",y="innerW",x="left",C="deltaW",E="contentW",I="top",G="h",D="y",F="innerH",H="minH",J="bottom",K="deltaH",L="contentH");n=e[y]-f[x]-f[x];b=v=l=0;for(c=d.length;b<c;b++)u=(m=d[b]).layoutRect(),n-=b<c-1?g:0,0<(q=m.settings.flex)&&(l+=q,u[t]&&M.push(m),u.flex=q),n-=u[w],(p=f[I]+u[H]+f[J])>v&&(v=p);if((r={})[w]=0>n?e[w]-n+e[C]:e[y]-n+e[C],r[H]=v+e[K],r[E]=e[y]-n,r[L]=v,r.minW=O(r.minW,e.maxW),r.minH=O(r.minH,e.maxH),r.minW=N(r.minW,e.startMinWidth),
r.minH=N(r.minH,e.startMinHeight),!e.autoResize||r.minW===e.minW&&r.minH===e.minH){a=n/l;b=0;for(c=M.length;b<c;b++)p=(u=M[b].layoutRect())[t],u[w]+u.flex*a>p?(n-=u[t]-u[w],l-=u.flex,u.flex=0,u.maxFlexSize=p):u.maxFlexSize=0;a=n/l;t=f[x];r={};0===l&&("end"===k?t=n+f[x]:"center"===k?0>(t=Math.round(e[y]/2-(e[y]-n)/2)+f[x])&&(t=f[x]):"justify"===k&&(t=f[x],g=Math.floor(n/(d.length-1))));r[D]=f[I];b=0;for(c=d.length;b<c;b++)p=(u=(m=d[b]).layoutRect()).maxFlexSize||u[w],"center"===h?r[D]=Math.round(e[F]/
2-u[G]/2):"stretch"===h?(r[G]=N(u[H]||0,e[F]-f[I]-f[J]),r[D]=f[I]):"end"===h&&(r[D]=e[F]-u[G]-f.top),0<u.flex&&(p+=u.flex*a),r[A]=p,r[B]=t,m.layoutRect(r),m.recalc&&m.recalc(),t+=p+g}else(r.w=r.minW,r.h=r.minH,a.layoutRect(r),this.recalc(a),null===a._lastRect)&&(d=a.parent())&&(d._lastRect=null,d.recalc())}}),Gc=fb.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(a){a.items().filter(":visible").each(function(a){a.recalc&&a.recalc()})},
isNative:function(){return!0}}),he=function(a,b){return Ac.one(b,a)},P=function(a,b){return function(){a.execCommand("mceToggleFormat",!1,b)}},kb=function(a,b){return function(){var c=this;a.formatter?a.formatter.formatChanged(b,function(a){c.active(a)}):a.on("init",function(){a.formatter.formatChanged(b,function(a){c.active(a)})})}},ie=function(a){a.addMenuItem("align",{text:"Align",menu:[{text:"Left",icon:"alignleft",onclick:P(a,"alignleft")},{text:"Center",icon:"aligncenter",onclick:P(a,"aligncenter")},
{text:"Right",icon:"alignright",onclick:P(a,"alignright")},{text:"Justify",icon:"alignjustify",onclick:P(a,"alignjustify")}]});m.each({alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(b,c){a.addButton(c,{active:!1,tooltip:b[0],cmd:b[1],onPostRender:kb(a,c)})})},Hc=function(a){return function(b,c){return w.from(c).map(X.fromDom).filter(Jd).bind(function(c){var d;
a:{for(d=c.dom();d!==b;){if(d.style[a]){d=d.style[a];d=""!==d?w.some(d):w.none();break a}d=d.parentNode}d=w.none()}return d.or((f=a,g=c.dom(),w.from(v.DOM.getStyle(g,f,!0))));var f,g}).getOr("")}},lb={getFontSize:Hc("fontSize"),getFontFamily:t.compose(function(a){return a.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},Hc("fontFamily")),toPt:function(a,b){return/[0-9.]+px$/.test(a)?(c=72*parseInt(a,10)/96,d=b||0,e=Math.pow(10,d),Math.round(c*e)/e+"pt"):a;var c,d,e}},mb=function(a){return a?a.split(",")[0]:
""},je=function(a,b){return function(){var c=this;a.on("init nodeChange",function(d){var e,f=lb.getFontFamily(a.getBody(),d.element);d=(m.each(b,function(a){a.value.toLowerCase()===f.toLowerCase()&&(e=a.value)}),m.each(b,function(a){e||mb(a.value).toLowerCase()!==mb(f).toLowerCase()||(e=a.value)}),e);c.value(d||null);!d&&f&&c.text(mb(f))})}},ke=function(a){a.addButton("fontselect",function(){var b,c=(b=function(a){for(var b=(a=a.replace(/;$/,"").split(";")).length;b--;)a[b]=a[b].split("=");return a}(a.settings.font_formats||
"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"),
m.map(b,function(a){return{text:{raw:a[0]},value:a[1],textStyle:-1===a[1].indexOf("dings")?"font-family:"+a[1]:""}}));return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:c,fixedWidth:!0,onPostRender:je(a,c),onselect:function(b){b.control.settings.value&&a.execCommand("FontName",!1,b.control.settings.value)}}})},le=function(a,b,c){var d;return m.each(a,function(a){a.value===c?d=c:a.value===b&&(d=b)}),d},me=function(a){a.addButton("fontsizeselect",function(){var b,c=(b=a.settings.fontsize_formats||
"8pt 10pt 12pt 14pt 18pt 24pt 36pt",m.map(b.split(" "),function(a){var b=a,c=a;a=a.split("=");return 1<a.length&&(b=a[0],c=a[1]),{text:b,value:c}}));return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:c,fixedWidth:!0,onPostRender:function(){var b=this;a.on("init nodeChange",function(d){var e,g,h;if(d=lb.getFontSize(a.getBody(),d.element))for(g=3;!h&&0<=g;g--)e=lb.toPt(d,g),h=le(c,e,d);b.value(h||null);h||b.text(e)})},onclick:function(b){b.control.settings.value&&a.execCommand("FontSize",
!1,b.control.settings.value)}}})},Ic=function(a,b){var c=b.length;return m.each(b,function(b){b.menu&&(b.hidden=0===Ic(a,b.menu));var d=b.format;d&&(b.hidden=!a.formatter.canApply(d));b.hidden&&c--}),c},Jc=function(a,b){var c=b.items().length;return b.items().each(function(b){b.menu&&b.visible(0<Jc(a,b.menu));!b.menu&&b.settings.menu&&b.visible(0<Ic(a,b.settings.menu));var d=b.settings.format;d&&b.visible(a.formatter.canApply(d));b.visible()||c--}),c},ne=function(a){var b,c,d,e,f=(b=0,c=[],d=[{title:"Headings",
items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",
icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}],e=function(a){var d=
[];if(a)return m.each(a,function(a){var f={text:a.title,icon:a.icon};if(a.items)f.menu=e(a.items);else{var g=a.format||"custom"+b++;a.format||(a.name=g,c.push(a));f.format=g;f.cmd=a.cmd}d.push(f)}),d},a.on("init",function(){m.each(c,function(b){a.formatter.register(b.name,b)})}),{type:"menu",items:a.settings.style_formats_merge?a.settings.style_formats?e(d.concat(a.settings.style_formats)):e(d):e(a.settings.style_formats||d),onPostRender:function(b){a.fire("renderFormatsMenu",{control:b.control})},
itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return a.formatter.getCssText(this.settings.format)},onPostRender:function(){var b=this;b.parent().on("show",function(){var c,d;(c=b.settings.format)&&(b.disabled(!a.formatter.canApply(c)),b.active(a.formatter.match(c)));(d=b.settings.cmd)&&b.active(a.queryCommandState(d))})},onclick:function(){this.settings.format&&P(a,this.settings.format)();this.settings.cmd&&a.execCommand(this.settings.cmd)}}});a.addMenuItem("formats",{text:"Formats",
menu:f});a.addButton("styleselect",{type:"menubutton",text:"Formats",menu:f,onShowMenu:function(){a.settings.style_formats_autohide&&Jc(a,this.menu)}})},oe=function(a,b){return function(){var c=[];return m.each(b,function(b){c.push({text:b[0],value:b[1],textStyle:function(){return a.formatter.getCssText(b[1])}})}),{type:"listbox",text:b[0][0],values:c,fixedWidth:!0,onselect:function(b){b.control&&(b=b.control.value(),P(a,b)())},onPostRender:function(){var b=this;a.on("nodeChange",function(d){var e=
a.formatter,g=null;m.each(d.parents,function(a){if(m.each(c,function(b){if(e.matchNode(a,b.value)&&(g=b.value),g)return!1}),g)return!1});b.value(g)})}}}},pe=function(a){var b=function(a){for(var b=(a=a.replace(/;$/,"").split(";")).length;b--;)a[b]=a[b].split("=");return a}(a.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");a.addMenuItem("blockformats",{text:"Blocks",menu:m.map(b,function(b){return{text:b[0],onclick:P(a,
b[1]),textStyle:function(){return a.formatter.getCssText(b[1])}}})});a.addButton("formatselect",oe(a,b))},Kc=function(a,b){var c,d;if("string"==typeof b)d=b.split(" ");else if(m.isArray(b))return x.flatten(m.map(b,function(b){return Kc(a,b)}));return c=m.grep(d,function(b){return"|"===b||b in a.menuItems}),m.map(c,function(b){return"|"===b?{text:"-"}:a.menuItems[b]})},nb=function(a){return a&&"-"===a.text},qe=function(a){a=x.filter(a,function(a,c,d){return!nb(a)||!nb(d[c-1])});return x.filter(a,function(a,
c,d){return!nb(a)||0<c&&c<d.length-1})},re=function(a){var b,c,d=a.settings.insert_button_items;return qe(d?Kc(a,d):(b=[{text:"-"}],c=m.grep(a.menuItems,function(a){return"insert"===a.context}),m.each(c,function(a){"before"===a.separator&&b.push({text:"|"});a.prependToContext?b.unshift(a):b.push(a);"after"===a.separator&&b.push({text:"|"})}),b))},se=function(a){a.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(re(a));this.menu.renderNew()}})},te=function(a){m.each({bold:"Bold",
italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(b,c){a.addButton(c,{active:!1,tooltip:b,onPostRender:kb(a,c),onclick:P(a,c)})});m.each({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"],
removeformat:["Clear formatting","RemoveFormat"],remove:["Remove","Delete"]},function(b,c){a.addButton(c,{tooltip:b[0],cmd:b[1]})});m.each({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"]},function(b,c){a.addButton(c,{active:!1,tooltip:b[0],cmd:b[1],onPostRender:kb(a,c)})})},ue=function(a){te(a);m.each({bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough",
"Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"],newdocument:["New document","mceNewDocument"],cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"]},function(b,c){a.addMenuItem(c,{text:b[0],icon:c,shortcut:b[2],cmd:b[1]})});a.addMenuItem("codeformat",{text:"Code",icon:"code",onclick:P(a,"code")})},Ga=function(a,b){return function(){var c=
this,d=function(){var c="redo"===b?"hasRedo":"hasUndo";return!!a.undoManager&&a.undoManager[c]()};c.disabled(!d());a.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){c.disabled(a.readonly||!d())})}},ve=function(a){a.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:Ga(a,"undo"),cmd:"undo"});a.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:Ga(a,"redo"),cmd:"redo"});a.addButton("undo",{tooltip:"Undo",onPostRender:Ga(a,"undo"),cmd:"undo"});
a.addButton("redo",{tooltip:"Redo",onPostRender:Ga(a,"redo"),cmd:"redo"})},we=function(a){a.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:function(){var b=this;a.on("VisualAid",function(a){b.active(a.hasVisual)});b.active(a.hasVisual)},cmd:"mceToggleVisualAid"})},Lc={setup:function(a){a.rtl&&(F.rtl=!0);a.on("mousedown",function(){M.hideAll()});a.settings.ui_container&&(L.container=he(X.fromDom(document.body),a.settings.ui_container).fold(t.constant(null),function(a){return a.dom()}));
y.tooltips=!L.iOS;F.translate=function(a){return Sa.translate(a)};pe(a);ie(a);ue(a);ve(a);me(a);ke(a);ne(a);we(a);se(a)}},xe=Ca.extend({recalc:function(a){var b,c,d,e,f,g,h,k,l,n,m,u,q,r,p,t,v,w,A,x=[],y=[];b=a.settings;e=a.items().filter(":visible");f=a.layoutRect();d=b.columns||Math.ceil(Math.sqrt(e.length));c=Math.ceil(e.length/d);p=b.spacingH||b.spacing||0;t=b.spacingV||b.spacing||0;v=b.alignH||b.align;w=b.alignV||b.align;q=a.paddingBox;A="reverseRows"in b?b.reverseRows:a.isRtl();v&&"string"==
typeof v&&(v=[v]);w&&"string"==typeof w&&(w=[w]);for(l=0;l<d;l++)x.push(0);for(n=0;n<c;n++)y.push(0);for(n=0;n<c;n++)for(l=0;l<d&&(k=e[n*d+l]);l++)m=(h=k.layoutRect()).minW,h=h.minH,x[l]=m>x[l]?m:x[l],y[n]=h>y[n]?h:y[n];h=f.innerW-q.left-q.right;for(l=m=0;l<d;l++)m+=x[l]+(0<l?p:0),h-=(0<l?p:0)+x[l];u=f.innerH-q.top-q.bottom;for(n=l=0;n<c;n++)l+=y[n]+(0<n?t:0),u-=(0<n?t:0)+y[n];if(m+=q.left+q.right,l+=q.top+q.bottom,(g={}).minW=m+(f.w-f.innerW),g.minH=l+(f.h-f.innerH),g.contentW=g.minW-f.deltaW,g.contentH=
g.minH-f.deltaH,g.minW=Math.min(g.minW,f.maxW),g.minH=Math.min(g.minH,f.maxH),g.minW=Math.max(g.minW,f.startMinWidth),g.minH=Math.max(g.minH,f.startMinHeight),!f.autoResize||g.minW===f.minW&&g.minH===f.minH){f.autoResize&&((g=a.layoutRect(g)).contentW=g.minW-f.deltaW,g.contentH=g.minH-f.deltaH);a="start"===b.packV?0:0<u?Math.floor(u/c):0;n=0;if(b=b.flexWidths)for(l=0;l<b.length;l++)n+=b[l];else n=d;n=h/n;for(l=0;l<d;l++)x[l]+=b?b[l]*n:n;m=q.top;for(n=0;n<c;n++){g=q.left;f=y[n]+a;for(l=0;l<d&&(k=e[A?
n*d+d-1-l:n*d+l]);l++)u=k.settings,h=k.layoutRect(),b=Math.max(x[l],h.startMinWidth),h.x=g,h.y=m,"center"===(r=u.alignH||(v?v[l]||v[0]:null))?h.x=g+b/2-h.w/2:"right"===r?h.x=g+b-h.w:"stretch"===r&&(h.w=b),"center"===(r=u.alignV||(w?w[l]||w[0]:null))?h.y=m+f/2-h.h/2:"bottom"===r?h.y=m+f-h.h:"stretch"===r&&(h.h=f),k.layoutRect(h),g+=b+p,k.recalc&&k.recalc();m+=f+t}}else(g.w=g.minW,g.h=g.minH,a.layoutRect(g),this.recalc(a),null===a._lastRect)&&(c=a.parent())&&(c._lastRect=null,c.recalc())}}),ye=y.extend({renderHtml:function(){return this.classes.add("iframe"),
this.canFocus=!1,'<iframe id="'+this._id+'" class="'+this.classes+'" tabindex="-1" src="'+(this.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(a){this.getEl().src=a},html:function(a,b){var c=this,d=this.getEl().contentWindow.document.body;return d?(d.innerHTML=a,b&&b()):J.setTimeout(function(){c.html(a)}),this}}),ze=y.extend({init:function(a){this._super(a);this.classes.add("widget").add("infobox");this.canFocus=!1},severity:function(a){this.classes.remove("error");this.classes.remove("warning");
this.classes.remove("success");this.classes.add(a)},help:function(a){this.state.set("help",a)},renderHtml:function(){var a=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+this.encode(this.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+a+"ico "+a+'i-help"></i></button></div></div>'},bindStates:function(){var a=this;return a.state.on("change:text",function(b){a.getEl("body").firstChild.data=a.encode(b.value);a.state.get("rendered")&&
a.updateLayoutRect()}),a.state.on("change:help",function(b){a.classes.toggle("has-help",b.value);a.state.get("rendered")&&a.updateLayoutRect()}),a._super()}}),Ae=y.extend({init:function(a){this._super(a);this.classes.add("widget").add("label");this.canFocus=!1;a.multiline&&this.classes.add("autoscroll");a.strong&&this.classes.add("strong")},initLayoutRect:function(){var a=this._super();return this.settings.multiline&&(r.getSize(this.getEl()).width>a.maxW&&(a.minW=a.maxW,this.classes.add("multiline")),
this.getEl().style.width=a.minW+"px",a.startMinH=a.h=a.minH=Math.min(a.maxH,r.getSize(this.getEl()).height)),a},repaint:function(){return this.settings.multiline||(this.getEl().style.lineHeight=this.layoutRect().h+"px"),this._super()},severity:function(a){this.classes.remove("error");this.classes.remove("warning");this.classes.remove("success");this.classes.add(a)},renderHtml:function(){var a,b,c=this.settings.forId,d=this.settings.html?this.settings.html:this.encode(this.state.get("text"));return!c&&
(b=this.settings.forName)&&(a=this.getRoot().find("#"+b)[0])&&(c=a._id),c?'<label id="'+this._id+'" class="'+this.classes+'"'+(c?' for="'+c+'"':"")+">"+d+"</label>":'<span id="'+this._id+'" class="'+this.classes+'">'+d+"</span>"},bindStates:function(){var a=this;return a.state.on("change:text",function(b){a.innerHtml(a.encode(b.value));a.state.get("rendered")&&a.updateLayoutRect()}),a._super()}}),Mc=ea.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(a){this._super(a);this.classes.add("toolbar")},
postRender:function(){return this.items().each(function(a){a.classes.add("toolbar-item")}),this._super()}}),Nc=Mc.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}}),Ha=Da.extend({init:function(a){this._renderOpen=!0;this._super(a);a=this.settings;this.classes.add("menubtn");a.fixedWidth&&this.classes.add("fixed-width");this.aria("haspopup",!0);this.state.set("menu",a.menu||this.render())},showMenu:function(a){var b,c=this;if(c.menu&&c.menu.visible()&&
!1!==a)return c.hideMenu();c.menu||(b=c.state.get("menu")||[],c.classes.add("opened"),b.length?b={type:"menu",animate:!0,items:b}:(b.type=b.type||"menu",b.animate=!0),b.renderTo?c.menu=b.parent(c).show().renderTo():c.menu=I.create(b).parent(c).renderTo(),c.fire("createmenu"),c.menu.reflow(),c.menu.on("cancel",function(a){a.control.parent()===c.menu&&(a.stopPropagation(),c.focus(),c.hideMenu())}),c.menu.on("select",function(){c.focus()}),c.menu.on("show hide",function(a){a.control===c.menu&&(c.activeMenu("show"===
a.type),c.classes.toggle("opened","show"===a.type));c.aria("expanded","show"===a.type)}).fire("show"));c.menu.show();c.menu.layoutRect({w:c.layoutRect().w});c.menu.repaint();c.menu.moveRel(c.getEl(),c.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]);c.fire("showmenu")},hideMenu:function(){this.menu&&(this.menu.items().each(function(a){a.hideMenu&&a.hideMenu()}),this.menu.hide())},activeMenu:function(a){this.classes.toggle("active",a)},renderHtml:function(){var a,b=this._id,c=this.classPrefix,d=this.settings.icon,
e=this.state.get("text"),f="";return(a=this.settings.image)?(d="none","string"!=typeof a&&(a=window.getSelection?a[0]:a[1]),a=" style=\"background-image: url('"+a+"')\""):a="",e&&(this.classes.add("btn-has-text"),f='<span class="'+c+'txt">'+this.encode(e)+"</span>"),d=this.settings.icon?c+"ico "+c+"i-"+d:"",this.aria("role",this.parent()instanceof Nc?"menuitem":"button"),'<div id="'+b+'" class="'+this.classes+'" tabindex="-1" aria-labelledby="'+b+'"><button id="'+b+'-open" role="presentation" type="button" tabindex="-1">'+
(d?'<i class="'+d+'"'+a+"></i>":"")+f+' <i class="'+c+'caret"></i></button></div>'},postRender:function(){var a=this;return a.on("click",function(b){var c;if(c=b.control===a)a:{c=b.target;for(var d=a.getEl();c;){if(d===c){c=!0;break a}c=c.parentNode}c=!1}c&&(a.focus(),a.showMenu(!b.aria),b.aria&&a.menu.items().filter(":visible")[0].focus())}),a.on("mouseenter",function(b){var c,d=b.control;b=a.parent();d&&b&&d instanceof Ha&&d.parent()===b&&(b.items().filter("MenuButton").each(function(a){a.hideMenu&&
a!==d&&(a.menu&&a.menu.visible()&&(c=!0),a.hideMenu())}),c&&(d.focus(),d.showMenu()))}),a._super()},bindStates:function(){var a=this;return a.state.on("change:menu",function(){a.menu&&a.menu.remove();a.menu=null}),a._super()},remove:function(){this._super();this.menu&&this.menu.remove()}}),Oc=M.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(a){if(a.autohide=!0,a.constrainToViewport=!0,"function"==typeof a.items&&(a.itemsFactory=
a.items,a.items=[]),a.itemDefaults)for(var b=a.items,c=b.length;c--;)b[c]=m.extend({},a.itemDefaults,b[c]);this._super(a);this.classes.add("menu");a.animate&&11!==L.ie&&this.classes.add("animate")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){this.hideAll();this.fire("select")},load:function(){function a(){c.throbber&&(c.throbber.hide(),c.throbber=null)}var b,c=this;c.settings.itemsFactory&&
(c.throbber||(c.throbber=new xb(c.getEl("body"),!0),0===c.items().length?(c.throbber.show(),c.fire("loading")):c.throbber.show(100,function(){c.items().remove();c.fire("loading")}),c.on("hide close",a)),c.requestTime=b=(new Date).getTime(),c.settings.itemsFactory(function(d){0!==d.length?c.requestTime===b&&(c.getEl().style.width="",c.getEl("body").style.width="",a(),c.items().remove(),c.getEl("body").innerHTML="",c.add(d),c.renderNew(),c.fire("loaded")):c.hide()}))},hideAll:function(){return this.find("menuitem").exec("hideMenu"),
this._super()},preRender:function(){var a=this;return a.items().each(function(b){b=b.settings;if(b.icon||b.image||b.selectable)return a._hasIcons=!0,!1}),a.settings.itemsFactory&&a.on("postrender",function(){a.settings.itemsFactory&&a.load()}),a.on("show hide",function(b){b.control===a&&("show"===b.type?J.setTimeout(function(){a.classes.add("in")},0):a.classes.remove("in"))}),a._super()}}),Be=Ha.extend({init:function(a){var b,c,d,e,f=this;f._super(a);a=f.settings;(f._values=b=a.values)&&("undefined"!=
typeof a.value&&function h(b){for(var e=0;e<b.length;e++){if(c=b[e].selected||a.value===b[e].value)return d=d||b[e].text,f.state.set("value",b[e].value),!0;if(b[e].menu&&h(b[e].menu))return!0}}(b),!c&&0<b.length&&(d=b[0].text,f.state.set("value",b[0].value)),f.state.set("menu",b));f.state.set("text",a.text||d);f.classes.add("listbox");f.on("select",function(b){var c=b.control;e&&(b.lastControl=e);a.multiple?c.active(!c.active()):f.value(b.control.value());e=c})},bindStates:function(){var a=this;return a.on("show",
function(b){var c;b=b.control;c=a.value();b instanceof Oc&&b.items().each(function(a){a.hasMenus()||a.active(a.value()===c)})}),a.state.on("change:value",function(b){(b=function d(a,b){var e;if(a)for(var f=0;f<a.length;f++){if(a[f].value===b)return a[f];if(a[f].menu&&(e=d(a[f].menu,b)))return e}}(a.state.get("menu"),b.value))?a.text(b.text):a.text(a.settings.text)}),a._super()}}),Ce=y.extend({Defaults:{border:0,role:"menuitem"},init:function(a){var b;this._super(a);a=this.settings;this.classes.add("menu-item");
a.menu&&this.classes.add("menu-item-expand");a.preview&&this.classes.add("menu-item-preview");"-"!==(b=this.state.get("text"))&&"|"!==b||(this.classes.add("menu-item-sep"),this.aria("role","separator"),this.state.set("text","-"));a.selectable&&(this.aria("role","menuitemcheckbox"),this.classes.add("menu-item-checkbox"),a.icon="selected");a.preview||a.selectable||this.classes.add("menu-item-normal");this.on("mousedown",function(a){a.preventDefault()});a.menu&&!a.ariaHideMenu&&this.aria("haspopup",
!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var a,b=this,c=b.settings,d=b.parent();if(d.items().each(function(a){a!==b&&a.hideMenu()}),c.menu)(a=b.menu)?a.show():((a=c.menu).length?a={type:"menu",items:a}:a.type=a.type||"menu",d.settings.itemDefaults&&(a.itemDefaults=d.settings.itemDefaults),(a=b.menu=I.create(a).parent(b).renderTo()).reflow(),a.on("cancel",function(c){c.stopPropagation();b.focus();a.hide()}),a.on("show hide",function(a){a.control.items&&a.control.items().each(function(a){a.active(a.settings.selected)})}).fire("show"),
a.on("hide",function(c){c.control===a&&b.classes.remove("selected")}),a.submenu=!0),a._parentMenu=d,a.classes.add("menu-sub"),c=a.testMoveRel(b.getEl(),b.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]),a.moveRel(b.getEl(),c),a.rel=c,c="menu-sub-"+c,a.classes.remove(a._lastRel).add(c),a._lastRel=c,b.classes.add("selected"),b.aria("expanded",!0)},hideMenu:function(){return this.menu&&(this.menu.items().each(function(a){a.hideMenu&&a.hideMenu()}),this.menu.hide(),this.aria("expanded",
!1)),this},renderHtml:function(){function a(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function b(b){var c=f.match||"";return c?b.replace(new RegExp(a(c),"gi"),function(a){return"!mce~match["+a+"]mce~match!"}):b}function c(b){return b.replace(new RegExp(a("!mce~match["),"g"),"<b>").replace(new RegExp(a("]mce~match!"),"g"),"</b>")}var d,e=this._id,f=this.settings,g=this.classPrefix,h=this.state.get("text"),k=this.settings.icon,l="",n=f.shortcut,m=this.encode(f.url);return k&&this.parent().classes.add("menu-has-icons"),
f.image&&(l=" style=\"background-image: url('"+f.image+"')\""),n&&(n=function(a){var b,c,d;d=L.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"};a=a.split("+");for(b=0;b<a.length;b++)(c=d[a[b].toLowerCase()])&&(a[b]=c);return a.join("+")}(n)),k=g+"ico "+g+"i-"+(this.settings.icon||"none"),d="-"!==h?'<i class="'+k+'"'+l+"></i>\u00a0":"",h=c(this.encode(b(h))),m=c(this.encode(b(m))),'<div id="'+e+'" class="'+this.classes+'" tabindex="-1">'+d+("-"!==h?'<span id="'+e+
'-text" class="'+g+'text">'+h+"</span>":"")+(n?'<div id="'+e+'-shortcut" class="'+g+'menu-shortcut">'+n+"</div>":"")+(f.menu?'<div class="'+g+'caret"></div>':"")+(m?'<div class="'+g+'menu-item-link">'+m+"</div>":"")+"</div>"},postRender:function(){var a=this,b=a.settings,c=b.textStyle;if("function"==typeof c&&(c=c.call(this)),c){var d=a.getEl("text");d&&(d.setAttribute("style",c),a._textStyle=c)}return a.on("mouseenter click",function(c){c.control===a&&(b.menu||"click"!==c.type?(a.showMenu(),c.aria&&
a.menu.focus(!0)):(a.fire("select"),J.requestAnimationFrame(function(){a.parent().hideAll()})))}),a._super(),a},hover:function(){return this.parent().items().each(function(a){a.classes.remove("selected")}),this.classes.toggle("selected",!0),this},active:function(a){var b=this._textStyle;if(b){var c=this.getEl("text");c.setAttribute("style",b);a&&(c.style.color="",c.style.backgroundColor="")}return void 0!==a&&this.aria("checked",a),this._super(a)},remove:function(){this._super();this.menu&&this.menu.remove()}}),
De=mc.extend({Defaults:{classes:"radio",role:"radio"}}),Ee=y.extend({renderHtml:function(){var a=this.classPrefix;return this.classes.add("resizehandle"),"both"===this.settings.direction&&this.classes.add("resizehandle-both"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"><i class="'+a+"ico "+a+'i-resize"></i></div>'},postRender:function(){var a=this;a._super();a.resizeDragHelper=new T(this._id,{start:function(){a.fire("ResizeStart")},drag:function(b){"both"!==a.settings.direction&&
(b.deltaX=0);a.fire("Resize",b)},stop:function(){a.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}}),Fe=y.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(a){var b=this;b._super(a);b.settings.size&&(b.size=b.settings.size);b.settings.options&&(b._options=b.settings.options);b.on("keydown",function(a){var c;13===a.keyCode&&(a.preventDefault(),b.parents().reverse().each(function(a){if(a.toJSON)return c=
a,!1}),b.fire("submit",{data:c.toJSON()}))})},options:function(a){return arguments.length?(this.state.set("options",a),this):this.state.get("options")},renderHtml:function(){var a,b="";return a=yb(this._options),this.size&&(b=' size = "'+this.size+'"'),'<select id="'+this._id+'" class="'+this.classes+'"'+b+">"+a+"</select>"},bindStates:function(){var a=this;return a.state.on("change:options",function(b){a.getEl().innerHTML=yb(b.value)}),a._super()}}),Ge=y.extend({init:function(a){a.previewFilter||
(a.previewFilter=function(a){return Math.round(100*a)/100});this._super(a);this.classes.add("slider");"v"===a.orientation&&this.classes.add("vertical");this._minValue=uc.isNumber(a.minValue)?a.minValue:0;this._maxValue=uc.isNumber(a.maxValue)?a.maxValue:100;this._initValue=this.state.get("value")},renderHtml:function(){var a=this._id;return'<div id="'+a+'" class="'+this.classes+'"><div id="'+a+'-handle" class="'+this.classPrefix+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},
postRender:function(){var a,b,c,d,e,f,g,h,k,l,m,q,p=this;a=p._minValue;b=p._maxValue;"v"===p.settings.orientation?(c="screenY",d="top",e="height",f="h"):(c="screenX",d="left",e="width",f="w");p._super();(function(a,b){function c(c){var d;d=zb(d=(((d=p.value())+a)/(b-a)+.05*c)*(b-a)-a,a,b);p.value(d);p.fire("dragstart",{value:d});p.fire("drag",{value:d});p.fire("dragend",{value:d})}p.on("keydown",function(a){switch(a.keyCode){case 37:case 38:c(-1);break;case 39:case 40:c(1)}})})(a,b);g=p.getEl("handle");
p._dragHelper=new T(p._id,{handle:p._id+"-handle",start:function(a){h=a[c];k=parseInt(p.getEl("handle").style[d],10);l=(p.layoutRect()[f]||100)-r.getSize(g)[e];p.fire("dragstart",{value:q})},drag:function(e){m=zb(k+(e[c]-h),0,l);g.style[d]=m+"px";q=a+m/l*(b-a);p.value(q);p.tooltip().text(""+p.settings.previewFilter(q)).show().moveRel(g,"bc tc");p.fire("drag",{value:q})},stop:function(){p.tooltip().hide();p.fire("dragend",{value:q})}})},repaint:function(){this._super();Ab(this,this.value())},bindStates:function(){var a=
this;return a.state.on("change:value",function(b){Ab(a,b.value)}),a._super()}}),He=y.extend({renderHtml:function(){return this.classes.add("spacer"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"></div>'}}),Ie=Ha.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var a,b,c=this.getEl(),d=this.layoutRect();return this._super(),a=c.firstChild,b=c.lastChild,p(a).css({width:d.w-r.getSize(b).width,height:d.h-2}),p(b).css({height:d.h-2}),this},activeMenu:function(a){p(this.getEl().lastChild).toggleClass(this.classPrefix+
"active",a)},renderHtml:function(){var a,b,c=this._id,d=this.classPrefix,e=this.state.get("icon"),f=this.state.get("text"),g=this.settings,h="";return(a=g.image)?(e="none","string"!=typeof a&&(a=window.getSelection?a[0]:a[1]),a=" style=\"background-image: url('"+a+"')\""):a="",e=g.icon?d+"ico "+d+"i-"+e:"",f&&(this.classes.add("btn-has-text"),h='<span class="'+d+'txt">'+this.encode(f)+"</span>"),b="boolean"==typeof g.active?' aria-pressed="'+g.active+'"':"",'<div id="'+c+'" class="'+this.classes+
'" role="button"'+b+' tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(e?'<i class="'+e+'"'+a+"></i>":"")+h+'</button><button type="button" class="'+d+'open" hidefocus="1" tabindex="-1">'+(this._menuBtnText?(e?"\u00a0":"")+this._menuBtnText:"")+' <i class="'+d+'caret"></i></button></div>'},postRender:function(){var a=this.settings.onclick;return this.on("click",function(b){var c=b.target;if(b.control===this)for(;c;){if(b.aria&&"down"!==b.aria.key||"BUTTON"===c.nodeName&&-1===c.className.indexOf("open"))return b.stopImmediatePropagation(),
void(a&&a.call(this,b));c=c.parentNode}}),delete this.settings.onclick,this._super()}}),Je=Gc.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}}),Ke=za.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(a){var b;this.activeTabId&&(b=this.getEl(this.activeTabId),p(b).removeClass(this.classPrefix+"active"),b.setAttribute("aria-selected","false"));this.activeTabId="t"+a;(b=this.getEl("t"+a)).setAttribute("aria-selected",
"true");p(b).addClass(this.classPrefix+"active");this.items()[a].show().fire("showtab");this.reflow();this.items().each(function(b,d){a!==d&&b.hide()})},renderHtml:function(){var a=this,b=a._layout,c="",d=a.classPrefix;return a.preRender(),b.preRender(a),a.items().each(function(b,f){f=a._id+"-t"+f;b.aria("role","tabpanel");b.aria("labelledby",f);c+='<div id="'+f+'" class="'+d+'tab" unselectable="on" role="tab" aria-controls="'+b._id+'" aria-selected="false" tabIndex="-1">'+a.encode(b.settings.title)+
"</div>"}),'<div id="'+a._id+'" class="'+a.classes+'" hidefocus="1" tabindex="-1"><div id="'+a._id+'-head" class="'+d+'tabs" role="tablist">'+c+'</div><div id="'+a._id+'-body" class="'+a.bodyClasses+'">'+b.renderHtml(a)+"</div></div>"},postRender:function(){var a=this;a._super();a.settings.activeTab=a.settings.activeTab||0;a.activateTab(a.settings.activeTab);this.on("click",function(b){var c=b.target.parentNode;if(c&&c.id===a._id+"-head")for(var d=c.childNodes.length;d--;)c.childNodes[d]===b.target&&
a.activateTab(d)})},initLayoutRect:function(){var a,b,c;b=0>(b=r.getSize(this.getEl("head")).width)?0:b;c=0;this.items().each(function(a){b=Math.max(b,a.layoutRect().minW);c=Math.max(c,a.layoutRect().minH)});this.items().each(function(a){a.settings.x=0;a.settings.y=0;a.settings.w=b;a.settings.h=c;a.layoutRect({x:0,y:0,w:b,h:c})});var d=r.getSize(this.getEl("head")).height;return this.settings.minWidth=b,this.settings.minHeight=c+d,(a=this._super()).deltaH+=d,a.innerH=a.h-a.deltaH,a}}),Le=y.extend({init:function(a){var b=
this;b._super(a);b.classes.add("textbox");a.multiline?b.classes.add("multiline"):(b.on("keydown",function(a){var c;13===a.keyCode&&(a.preventDefault(),b.parents().reverse().each(function(a){if(a.toJSON)return c=a,!1}),b.fire("submit",{data:c.toJSON()}))}),b.on("keyup",function(a){b.state.set("value",a.target.value)}))},repaint:function(){var a,b,c,d,e,f=0;a=this.getEl().style;b=this._layoutRect;e=this._lastRepaintRect||{};var g=document;return!this.settings.multiline&&g.all&&(!g.documentMode||8>=
g.documentMode)&&(a.lineHeight=b.h-f+"px"),d=(c=this.borderBox).left+c.right+8,f=c.top+c.bottom+(this.settings.multiline?8:0),b.x!==e.x&&(a.left=b.x+"px",e.x=b.x),b.y!==e.y&&(a.top=b.y+"px",e.y=b.y),b.w!==e.w&&(a.width=b.w-d+"px",e.w=b.w),b.h!==e.h&&(a.height=b.h-f+"px",e.h=b.h),this._lastRepaintRect=e,this.fire("repaint",{},!1),this},renderHtml:function(){var a,b,c=this.settings;return a={id:this._id,hidefocus:"1"},m.each("rows spellcheck maxLength size readonly min max step list pattern placeholder required multiple".split(" "),
function(b){a[b]=c[b]}),this.disabled()&&(a.disabled="disabled"),c.subtype&&(a.type=c.subtype),(b=r.create(c.multiline?"textarea":"input",a)).value=this.state.get("value"),b.className=this.classes,b.outerHTML},value:function(a){return arguments.length?(this.state.set("value",a),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var a=this;a.getEl().value=a.state.get("value");a._super();a.$el.on("change",function(b){a.state.set("value",
b.target.value);a.fire("change",b)})},bindStates:function(){var a=this;return a.state.on("change:value",function(b){a.getEl().value!==b.value&&(a.getEl().value=b.value)}),a.state.on("change:disabled",function(b){a.getEl().disabled=b.value}),a._super()},remove:function(){this.$el.off();this._super()}}),ob=function(){return{Selector:ma,Collection:xa,ReflowQueue:pa,Control:F,Factory:I,KeyboardNavigation:sb,Container:ea,DragHelper:T,Scrollable:hc,Panel:za,Movable:ya,Resizable:ic,FloatPanel:M,Window:Aa,
MessageBox:O,Tooltip:ec,Widget:y,Progress:fc,Notification:rb,Layout:fb,AbsoluteLayout:Ca,Button:Da,ButtonGroup:zd,Checkbox:mc,ComboBox:gb,ColorBox:Ad,PanelButton:oc,ColorButton:Cd,ColorPicker:Dd,Path:qc,ElementPath:Fd,FormItem:rc,Form:sc,FieldSet:Gd,FilePicker:ee,FitLayout:fe,FlexLayout:ge,FlowLayout:Gc,FormatControls:Lc,GridLayout:xe,Iframe:ye,InfoBox:ze,Label:Ae,Toolbar:Mc,MenuBar:Nc,MenuButton:Ha,MenuItem:Ce,Throbber:xb,Menu:Oc,ListBox:Be,Radio:De,ResizeHandle:Ee,SelectBox:Fe,Slider:Ge,Spacer:He,
SplitButton:Ie,StackLayout:Je,TabPanel:Ke,TextBox:Le,DropZone:Ed,BrowseButton:yd}};m.each(ob(),function(a,b){I.add(b,a)});(function(a){a.ui?m.each(ob(),function(b,c){a.ui[c]=b}):a.ui=ob()})(window.tinymce?window.tinymce:{});Vc.add("inlite",function(a){var b=Sc();return Lc.setup(a),wd(a,b),kd(a,b)})}();
